# 信用卡账单系统设置标准文档 - 最终版

## 📌 最核心的规则（必须记住）

### 1️⃣ 一家银行一个月 = 一条记录
* 比如：客户在Maybank有3张卡，2024年11月的账单
* 系统会把这3张卡**合并成一条记录**
* 就像把3份账单装进一个信封里

### 2️⃣ 每笔消费/付款都要分清楚：是客户自己的，还是Infinite公司的
* **Own's（客户自己的）**：客户个人的消费和客户本名付款
* **GZ's（Infinite公司的）**：7个供应商的消费，或者第3方付的款项

---

## 🗂️ 数据库里存了什么？

### 账本1：月度账单总表（monthly_statements）
记录每个月每家银行的总账，包括：
* 哪个客户？哪家银行？哪个月？
* 上个月欠多少？（PRE BAL）
* 这个月总共欠多少？（Total/Statement OS）
* **6个关键数字**（必须有）：
  - Own's消费、Own's付款、Own's欠款余额
  - GZ's消费、GZ's付款、GZ's欠款余额

### 账本2：信用卡关联表（monthly_statement_cards）
记录这个月的账单包含了哪几张卡
* 比如：2024年11月的Maybank账单包含了卡1234、5678、9012

### 账本3：交易明细表（transactions）
**100%将信用卡账单里的每一笔交易记录都无删减、无添加、无修改的把每一笔在信用卡账单里的消费和付款的详细信息都1比1的复刻到系统里面**

* 消费日期、消费金额、消费description、卡号
* 付款日期、付款金额、付款description、卡号
* 标签: Own's Expenses, Own's Payment, GZ's Expenses, GZ's Payment

---

## 🏷️ 怎么区分Own's和GZ's？

### 消费类（花钱）：
**如果是以下这7个供应商 → 标记为GZ's Expenses 并征收1%手续费**

**Suppliers List（7个供应商）**:
1. 7SL
2. HUAWEI
3. PASAR RAYA
4. DINAS
5. RAUB SYC HAINAN
6. AI SMART TECH
7. PUCHONG HERBS

**其他所有消费 → 标记为Own's Expenses**

**所有的Suppliers消费记录均自动生成一份invoices存放在Invoices页面里**

### 付款类（还钱）：
**如果付款描述里有客户的名字 → 标记为Own's Payment**
* 比如："PAYMENT FROM CHANG CHOON CHOW"

**付款没有任何名字，或者是其他人 → 标记为GZ's Payment**
* 比如："PAYMENT FROM INFINITE"（公司付的，算GZ）

**简单记法**：
* 消费看商家（7个供应商=GZ，其他=Own）
* 付款看名字（客户名字=Own，其他=GZ）

---

## 💾 文件怎么存？

### 文件夹结构：
```
客户文件夹/
└── Be_rich_CCC/ （客户代号）
    └── credit_cards/ （信用卡）
        └── Maybank/ （银行名）
            └── 2024-11/ （年-月）
                ├── Maybank_2024-11-03.pdf
                ├── Maybank_2024-12-05.pdf
                └── Maybank_2025-01-08.pdf
```

### 文件名规则：
**格式**: `银行名_信用卡账单statement日期.pdf`

**示例**:
* `Maybank_2024-11-15.pdf`
* `HSBC_2024-10-20.pdf`
* `Alliance_Bank_2024-11-25.pdf`

**重要**: 文件名中**不包含**卡号后4位！

---

## ✅ 怎么确保数据100%准确？

### 第1重：数学验证
* 把PDF上写的"本月需付款金额的总金额"
* 跟系统加起来的总额对比
* **不能有任何差距**（零容差）

### 第2重：逐笔核对
* 把PDF原文与系统记录的重新对比一遍
* 确认原件信用卡账单里的每一笔交易都无差别的记录到了系统里
* 没有漏掉，没有添加，没有删减，没有更改或重复

### 打分制：
**不需要打分，我需要的是100%复刻原件信用卡账单里的全部交易细节记录1比1还原记录到系统里**

---

## 🏦 支持哪些银行？

总共**15家马来西亚银行**：
* Maybank、CIMB、Public Bank、RHB
* Hong Leong Bank、HSBC、UOB、OCBC
* AmBank、Alliance Bank、Affin Bank
* Standard Chartered、Bank Islam、Bank Rakyat等

### 特别注意：
* **Hong Leong Bank**: 付款金额存储方式跟其他银行不一样（正数 vs 负数）
* **AmBank vs AmBank Islamic**: 算两家不同的银行（其他任何有islamic bank的都一样）

---

## 🎨 界面显示规则

### Admin Dashboard颜色系统
严格只用**3种颜色**：
* **黑色** (#000000)：背景
* **热粉色** (#FF007F)：Own's的数据
* **深紫色** (#322446)：GZ's的数据

### 3排卡片：
1. **第一排**：系统统计（客户数、账单数、交易数、活跃卡数）
2. **第二排**：Own's财务（Own's Expenses, Own's Payment, Own's OS Bal, Suppliers Invoices）- 粉色系
3. **第三排**：GZ's财务（GZ's Expenses, GZ's Payment, GZ's OS Bal, Total Invoices Amount）- 紫色系

### 统一规格：
* 数字都是**1.8rem**大小，字样银白色
* 标签都是**0.9rem**大小，字样莹白色
* 高度都是**140px**
* 这样看起来整整齐齐

---

## 🔄 上传流程是怎样的？

### 完整流程：

1. **系统自动化的在客户信用卡账单statement date提醒客户记得把已经收到的信用卡账单转发给我们分析及系统管理**

2. 收到信用卡账单后，我上传PDF，然后开始以下操作：

3. → 系统识别是哪家银行

4. → 提取里面的交易数据

5. → 自动分类Own/GZ

6. → 双重验证检查

7. → (通过) 存进数据库

8. → **手动逐一将原件与系统里的每一笔交易记录进行对比，看看是否所有的消费和付款的交易记录都保持一致**

9. → **再次逐一把每一笔交易细节手动确认无差错，且所有数据都与原件上的数据对上，且消费和付款记录没有混乱**

10. → 全部都确认无误后，为该银行的信用卡账单独立制作一份该银行信用卡账单的月份报告

11. → 分类好后，系统自动化在该信用卡账单due date的3天前提醒客户记得付款，并告知客户可在完成付款后将收据上传到系统让我们为其进行管理，供以后税收时使用

12. → 每月的最后一天30/31号将所有依据信用卡账单的statement date来进行划分一组并把全部同一月份的银行信用卡账单月报告结合并在里面给出详细分析客户的现状后再提供优化的操作对比客户现状的差别直接影响客户选择我们的服务创造自动化商机并生成一份月度账单报表记录存放在系统的一个固定位置

13. → 每月的1号将统计好的月度账单报表发给每一个客户

14. → 完成！

### 重要提示：
* **如果同一个银行同一个月系统已经有该月份的信用卡账单，系统必须通知我，不要重复设置**
* **所有的验证交易细节记录都必须是手动且进行逐一的交易细节确认**
* **必须一定要手动的一笔一笔检查所有的交易细节，不要设置系统化来进行检查**

---

## 📊 月度账单列表显示什么？

### Admin Dashboard表格有13列：

| 列名 | 显示什么 | 颜色 |
|-----|---------|------|
| **Month** | 账单的月份 | 白色 |
| **Name** | 客户名字 | 白色 |
| **Bank** | 银行名字 | 白色 |
| **PRE BAL** | 上个月欠多少 | 莹白色（突出显示）|
| **Statement OS** | 账单欠款总金额 | 白色 |
| **Due Date** | 还款截止日 | 白色 |
| **Own's Expenses** | Own's本月消费 | 热粉色 #FF007F |
| **GZ Expenses** | GZ's本月消费 | 深紫色 #322446 |
| **Own's Payments** | Own's本月付款 | 热粉色 #FF007F |
| **GZ Payments** | GZ's本月付款 | 深紫色 #322446 |
| **Own's Balance** | Own's现在欠款余额 | 热粉色 #FF007F |
| **GZ Balance** | GZ's现在欠款余额 | 深紫色 #322446 |
| **Actions** | 查看/编辑按钮 | - |

### 重点：
* **第一个月的信用卡账单里的Previous Bal都归为客户使用的欠款余额处理**
  - 客户刚刚才将信用卡交与我们来管理
  - 既然我们都还没有开始使用，那么一定是客户使用的欠款余额
  
* **从第二个月份开始**：
  - Own's OS Bal = 第一个月的Own's OS Bal + Own's Expenses - Own's Payment
  - GZ's OS Bal = 第一个月的GZ's OS Bal + GZ's Expenses - GZ's Payment

* **所有付款都显示成正数，看起来更直观！**

---

## 💡 核心原则总结

1. **一家银行一个月 = 一条记录**（强制合并）
2. **7个固定供应商** = GZ消费（自动生成invoices）
3. **客户名字付款** = Own's Payment，其他 = GZ's Payment
4. **文件命名**: `银行名_日期.pdf`（不要卡号）
5. **100%准确性**: 手动逐笔验证，零容差
6. **3色UI**: 黑色背景 + 粉色Own's + 紫色GZ's
7. **第一个月Previous Balance = 100% Own's余额**
8. **自动提醒**: statement date提醒上传，due date前3天提醒付款
9. **月度报表**: 30/31号生成，1号发送
10. **重复检测**: 同银行同月不允许重复上传

---

**文档版本**: v2.0  
**最后更新**: 2025-10-26  
**状态**: ✅ 最终生效版本
