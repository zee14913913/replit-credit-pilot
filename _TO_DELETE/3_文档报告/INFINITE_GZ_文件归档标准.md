# INFINITE GZ全系统文件归档固定目录与命名规范（全英文、全业务强制标准）

## 1. 核心主目录结构（不可变更、必须落地）

```
/static/uploads/                 # 全部业务文件主仓库（不可外移）
  customers/                     # 客户相关所有文件归档
    {CustomerCode}/
      profile/                   # 客户资料、证件等静态文件
      contracts/                 # 合同、服务协议等PDF
      credit_cards/              # 信用卡账单、附件，严格见下
        {BankName}/{YYYY-MM}/    # 账单按银行英文/月份独立归档
      statements/                # 银行流水等月结账单数据
      invoices/                  # 客户专属发票和收据PDF
      attachments/               # 用户上传补充材料、open file类
      reports/                   # 客户独立生成的任务报表与业务归档
      logs/                      # 客户相关操作、归档、批处理日志
  system/                        # 系统全局类文件
    templates/                   # HTML、PDF模板及国际化资源
    reports/                     # 全局报表/历史批量导出
    archive/                     # 项目老数据、批量归档包
    audit/                       # 系统全局稽核日志与人工稽核文档
  public/                        # 静态公共资源（favicon、公开资料）
  tmp/                           # 仅允许用于临时脚本处理后及时清空
/db/                             # 所有数据库文件固定
  loan.db
  customers.db
/scripts/                        # 项目内所有数据处理/自动迁移批量脚本
```

## 2. 文件上传与归档标准

- 所有业务数据/文件上传/附件/系统导出，必须严格写入上述标准目录，不可落入其他任何路径。
- 每个一级目录只允许存储对应业务用途文件，严禁跨类、跨用途混放。
- **命名范例**：
  - 报表/导出类：`report_{taskType}_{customerCode}_{YYYYMM}.xlsx`
  - 合同/协议：`contract_{customerCode}_{contractType}_{YYYYMM}.pdf`
  - 信用卡账单PDF：`{BankName}_{last4digits}_{YYYY-MM-DD}.pdf`
  - 证件扫描类：`id_{customerCode}_{docType}.jpg`

## 3. 脚本与自动归档规则

- 所有批量导入、同步、迁移、自动处理流程，统一按上述目录执行；禁止自动建立新路径、更改路径、跨目录移动任何文件。
- 临时脚本须处理完毕后及时清理`/tmp/`目录，结果数据自动归入固定目录。

## 4. 文件查找与权限

- 每个主要业务功能（上传、查询、导出、存档、管理）在前端/后台均与上述标准目录唯一映射，任何查找失败均视为存档错误。
- 所有目录及文件必须分权限严格管理——不同角色只可见/操作其分区目录和级别（如客户只能访问自己目录、系统日志仅管理员可查）。

## 5. 禁止性规定

- **严禁**在项目中出现任何中文、拼音、非标准英文及缩写路径；
- **禁止**文件存储默认存在`/root/`、`/home/`、项目根级`/static/`或未归档的任意临时目录内；
- 任何手动上传/自动导入/脚本处理生成文件，未归档到规范路径，作重大异常处理。

## 6. 变更备案及稽核

- 文件目录结构、命名标准和归档流程如有变更，需书面批准，存根到`/system/audit/`目录，并全员通知；
- 定期抽查时系统和人工对照实际文件与目录清单，发现异常及时补正。

---

## 备注（仅供开发及归档使用）

- 全部银行名称、关键业务字段、客户编号等均采用官方英文唯一，不允许出现多版本。
- 系统如与外部API数据归档、第三方存储对接，所有同步动作亦须强制落地到本主目录体系后再做下一步业务操作。

---

**本标准为INFINITE GZ所有业务模块和数据归档的永久唯一目录和归档规范。**

---

**文档版本**: v1.0  
**生效日期**: 2025-01-17  
**归档位置**: 项目根目录 + `/static/uploads/system/audit/`
