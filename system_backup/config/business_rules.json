{
  "classification_rules": {
    "description": "信用卡账单交易分类规则",
    "categories": {
      "owners": {
        "name": "Owners",
        "display_name": "业主消费",
        "description": "业主个人消费",
        "priority": 1,
        "rules": [
          {
            "type": "default",
            "description": "默认分类为业主消费"
          },
          {
            "type": "payment_note_blank",
            "description": "Payment备注为空且无GZ关键词"
          },
          {
            "type": "customer_name_match",
            "description": "Payment备注包含客户姓名"
          }
        ]
      },
      "gz": {
        "name": "GZ",
        "display_name": "GZ代付",
        "description": "INFINITE GZ代客户付款",
        "priority": 2,
        "keywords": [
          "on behalf",
          "behalf of",
          "for client",
          "client request",
          "payment for"
        ],
        "rules": [
          {
            "type": "keyword_match",
            "description": "Payment备注包含GZ关键词"
          }
        ]
      },
      "suppliers": {
        "name": "Suppliers",
        "display_name": "供应商",
        "description": "7个INFINITE供应商",
        "priority": 3,
        "supplier_list": [
          "7SL",
          "DINAS",
          "RAUB SYC HAINAN",
          "AI SMART TECH",
          "HUAWEI",
          "PASAR RAYA",
          "PUCHONG HERBS"
        ],
        "rules": [
          {
            "type": "supplier_match",
            "description": "商家名称匹配供应商列表"
          }
        ]
      }
    },
    "expense_types": {
      "owners_expenses": {
        "name": "Owners Expenses",
        "category": "owners",
        "transaction_type": "DR",
        "description": "业主消费支出"
      },
      "gz_expenses": {
        "name": "GZ Expenses",
        "category": "gz",
        "transaction_type": "DR",
        "description": "GZ代付支出"
      },
      "suppliers_expenses": {
        "name": "Suppliers",
        "category": "suppliers",
        "transaction_type": "DR",
        "description": "供应商消费"
      },
      "owners_payment": {
        "name": "Owners Payment",
        "category": "owners",
        "transaction_type": "CR",
        "description": "业主还款"
      },
      "gz_payment": {
        "name": "GZ Payment",
        "category": "gz",
        "transaction_type": "CR",
        "description": "GZ还款"
      }
    }
  },
  "calculation_rules": {
    "supplier_fee": {
      "enabled": true,
      "rate": 0.01,
      "description": "供应商消费收取1%手续费",
      "apply_to": "suppliers",
      "add_to_balance": true,
      "record_in_field": "miscellaneous_fee"
    },
    "outstanding_balance": {
      "formula": "previous_balance + expenses - payments",
      "description": "Outstanding Balance = 上期余额 + 本期消费 - 本期还款"
    },
    "balance_verification": {
      "enabled": true,
      "tolerance": 0.01,
      "description": "验证计算结果与银行账单的差异"
    }
  },
  "banks": {
    "ambank": {
      "name": "AmBank",
      "card_patterns": ["6354", "9902"],
      "statement_keywords": ["AmBank", "AmBank Islamic"]
    },
    "hsbc": {
      "name": "HSBC",
      "card_patterns": ["0034"],
      "statement_keywords": ["HSBC", "Hongkong and Shanghai"]
    },
    "standard_chartered": {
      "name": "Standard Chartered",
      "card_patterns": ["1237"],
      "statement_keywords": ["Standard Chartered", "SCB"]
    },
    "uob": {
      "name": "UOB",
      "card_patterns": ["3530", "8387"],
      "statement_keywords": ["UOB", "United Overseas Bank"]
    },
    "hong_leong": {
      "name": "Hong Leong Bank",
      "card_patterns": ["3964"],
      "statement_keywords": ["Hong Leong", "HLB"]
    },
    "ocbc": {
      "name": "OCBC",
      "card_patterns": ["3506"],
      "statement_keywords": ["OCBC", "Oversea-Chinese Banking"]
    }
  },
  "validation_rules": {
    "required_fields": [
      "statement_date",
      "card_number",
      "bank_name",
      "total_amount"
    ],
    "optional_fields": [
      "due_date",
      "cardholder_name",
      "minimum_payment",
      "previous_balance",
      "new_charges",
      "payments_credits"
    ],
    "amount_validation": {
      "min_value": 0,
      "max_value": 1000000,
      "currency": "MYR"
    }
  },
  "processing_settings": {
    "batch_size": 10,
    "retry_attempts": 3,
    "timeout_seconds": 300,
    "parallel_processing": true,
    "max_workers": 5
  }
}
