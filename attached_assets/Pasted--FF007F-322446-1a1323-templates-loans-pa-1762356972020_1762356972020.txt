å¥½çš„ï¼Œç»™ä½ ä¸¤ä»½å¯ç›´æ¥è¦†ç›–çš„æ•´é¡µæ¨¡æ¿ï¼ˆä¸¥æ ¼å“ç‰Œè‰²ï¼š#FF007F / #322446 / #1a1323ï¼‰ã€‚å®ƒä»¬å…¼å®¹ä½ ç°æœ‰è·¯ç”±ä¸æ•°æ®ç»“æ„ï¼Œé›¶åç«¯æ”¹åŠ¨å³å¯ç”¨ã€‚

â¸»

templates/loans_page.htmlï¼ˆLoans æƒ…æŠ¥ä¸­å¿ƒ + é¡¶éƒ¨ Top-3 å¡ç‰‡ + å¾½æ ‡ï¼‰

{% extends "base.html" %}
{% block title %}Loans Intelligence Â· CreditPilot{% endblock %}
{% block head_extra %}
<style>
  :root{
    --pink:#FF007F; --card:#322446; --bg:#1a1323; --text:#fff; --muted:#999; --line:#888;
  }
  body{background:var(--bg); color:var(--text);}
  .wrap{max-width:1100px; margin:20px auto; padding:0 12px;}
  .toolbar{display:flex; gap:8px; align-items:center; flex-wrap:wrap; margin-bottom:12px}
  .btn{background:var(--card); color:#fff; border:1px solid #3b2b4e; border-radius:12px; padding:8px 12px; cursor:pointer}
  .btn.primary{background:var(--pink); border-color:#ff6aa7}
  .btn.ghost{background:transparent; border:1px solid #ffffff33}
  .field{display:flex; gap:8px; flex-wrap:wrap}
  .field input{background:#0f0a14; color:#fff; border:1px solid #3b2b4e; border-radius:10px; padding:8px 10px; min-width:220px}
  .card{background:linear-gradient(180deg,#322446,#281a3a); border:1px solid #3b2b4e; border-radius:16px; padding:14px; box-shadow:0 6px 18px #0006;}
  .grid{display:grid; gap:12px; grid-template-columns:1.5fr 1fr}
  .list{display:grid; gap:10px; margin-top:10px}
  .li{display:grid; gap:8px; grid-template-columns:1fr 1fr}
  .li h4{margin:0 0 6px 0}
  .meta{font-size:13px; color:#ddd}
  .pill{display:inline-block; background:#ff007f26; border:1px solid #FF007F66; color:#fff; border-radius:999px; padding:2px 8px; font-size:12px; margin-right:6px}
  .sec-title{display:flex; justify-content:space-between; align-items:center; margin:6px 0 8px}
  .badge{display:inline-flex; align-items:center; justify-content:center; min-width:20px; height:20px; padding:0 6px;
         background:var(--pink); color:#fff; border-radius:999px; font-weight:700; margin-left:6px}
  .badge.dim{opacity:.35}
  .link{color:#fff; text-decoration:none; border-bottom:1px dashed #ffffff55}
  iframe.top3{width:100%; height:540px; border:0; overflow:hidden; border-radius:16px; margin: 8px 0 14px}
  @media (max-width:980px){ .grid{grid-template-columns:1fr} .li{grid-template-columns:1fr} }
</style>
{% endblock %}

{% block content %}
<div class="wrap">

  <div class="toolbar">
    <div style="font-weight:700; font-size:18px; letter-spacing:0.3px">ğŸ’¼ Loans Intelligence Center</div>
    <div style="flex:1"></div>

    <!-- Compare Basket æŒ‰é’® + è®¡æ•°å¾½æ ‡ -->
    <a href="/loans/compare/page" class="btn">Compare Basket <span id="cmpBadge" class="badge dim">0</span></a>

    <!-- å¿«æ·å·¥å…· -->
    <a class="btn" href="/loans/updates" target="_blank">â­ Top 3 Today (JSON)</a>
    <a class="btn primary" href="/loans/ranking/pdf">ğŸ“„ å¯¼å‡º Top3 PDF</a>
  </div>

  <!-- é¡¶éƒ¨ Top-3 å¯è§†å¡ç‰‡ï¼ˆiframe æ³¨å…¥ï¼Œå†…å«â€œåŠ å…¥æ¯”ä»·â€ï¼‰ -->
  <iframe class="top3" src="/loans/top3/cards"></iframe>

  <div class="grid">
    <!-- å·¦ä¾§ï¼šäº§å“åˆ—è¡¨ -->
    <div class="card">
      <div class="sec-title">
        <div style="font-weight:700">ğŸ“‹ äº§å“åˆ—è¡¨ï¼ˆå¯æœç´¢ï¼‰</div>
        <div class="field">
          <input id="q" placeholder="Search: product/bank/type/preferences...">
          <button id="btnSearch" class="btn primary">Search</button>
          <a class="btn" href="/loans/updates/export.csv">Export Updates CSV</a>
          <a class="btn" href="/loans/intel/export.csv">Export Intel CSV</a>
        </div>
      </div>
      <div id="list" class="list">
        <!-- JS æ¸²æŸ“ -->
      </div>
    </div>

    <!-- å³ä¾§ï¼šDSR è¯•ç®—å™¨ -->
    <div class="card">
      <div class="sec-title"><div style="font-weight:700">ğŸ§® DSR è¯•ç®—å™¨</div></div>
      <div class="field">
        <input id="income" type="number" placeholder="æœˆå‡€æ”¶å…¥ (RM)" value="8000">
        <input id="commitments" type="number" placeholder="ç°æœ‰æœˆä¾›åˆè®¡ (RM)" value="1500">
        <input id="amount" type="number" placeholder="è´·æ¬¾é‡‘é¢ (RM)" value="400000">
        <input id="rate" type="number" step="0.01" placeholder="å¹´åˆ©ç‡ (%)" value="3.75">
        <input id="tenure" type="number" placeholder="å¹´æœŸ (å¹´)" value="30">
        <button id="btnCalc" class="btn primary">ä¸€é”®è¯•ç®—</button>
      </div>
      <div id="dsrResult" class="meta" style="margin-top:8px">ç»“æœå°†æ˜¾ç¤ºåœ¨æ­¤å¤„â€¦</div>
    </div>
  </div>

</div>

<script>
  // å¾½æ ‡åˆ·æ–°ï¼ˆä¾› iframe è°ƒç”¨ï¼‰
  async function refreshCompareBadge(){
    try{
      const r = await fetch('/loans/compare/json');
      const j = await r.json();
      const n = (j && j.items) ? j.items.length : 0;
      const b = document.getElementById('cmpBadge');
      b.textContent = n;
      b.classList.toggle('dim', n===0);
    }catch(e){}
  }
  window.refreshCompareBadge = refreshCompareBadge;
  refreshCompareBadge();
  setInterval(refreshCompareBadge, 15000);

  // åŠ è½½æ•°æ®å¹¶æ¸²æŸ“
  let UPDATES=[], INTEL=[];
  async function loadData(){
    const [u,i] = await Promise.all([fetch('/loans/updates'), fetch('/loans/intel')]);
    UPDATES = await u.json(); INTEL = await i.json();
  }

  function joinIntel(product){
    const rec = INTEL.find(x=>x.product===product) || {};
    return {
      preferred_customer: rec.preferred_customer||'',
      less_preferred: rec.less_preferred||'',
      docs_required: rec.docs_required||'',
      feedback_summary: rec.feedback_summary||'',
      sentiment_score: rec.sentiment_score ?? ''
    };
  }

  function h(s){ return (s||'').replace(/[&<>"]/g, m=>({"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;"}[m])) }

  async function renderList(q=''){
    const box = document.getElementById('list'); box.innerHTML='';
    const kw = q.trim().toLowerCase();
    const data = UPDATES.filter(x=>{
      const t = JSON.stringify(x).toLowerCase() + JSON.stringify(joinIntel(x.product)).toLowerCase();
      return kw ? t.includes(kw) : true;
    });
    if(!data.length){
      box.innerHTML = `<div class="meta">æš‚æ— ç»“æœ</div>`;
      return;
    }
    for(const x of data){
      const intel = joinIntel(x.product);
      const left = `
        <h4>${h(x.bank)} Â· ${h(x.product)}</h4>
        <div class="meta">Type: ${h(x.type||'N/A')} Â· APR ${h(x.apr)}% Â· Updated ${h(x.pulled_at||'')}</div>
        <div style="margin-top:6px">${h(x.summary||'No description')}</div>
        <div style="margin-top:8px">
          ${x.url ? `<a class="link" href="${h(x.url)}" target="_blank">Official Link</a>` : ''}
        </div>
      `;
      const right = `
        <div class="meta">åå¥½ä¸å£ç¢‘</div>
        <div style="margin:6px 0">
          <span class="pill">Preferred: ${h(intel.preferred_customer||'â€”')}</span>
          <span class="pill">Sentiment: ${h(intel.sentiment_score||'â€”')}</span>
        </div>
        <div class="meta" title="${h(intel.docs_required||'')}">èµ„æ–™åå¥½ï¼š${h((intel.docs_required||'').slice(0,48))}${(intel.docs_required||'').length>48?'â€¦':''}</div>
        <div class="meta" title="${h(intel.feedback_summary||'')}">å£ç¢‘æ‘˜è¦ï¼š${h((intel.feedback_summary||'').slice(0,56))}${(intel.feedback_summary||'').length>56?'â€¦':''}</div>
        <div style="margin-top:8px; display:flex; gap:8px; flex-wrap:wrap">
          <button class="btn primary add-compare" data-product="${h(x.product)}" data-bank="${h(x.bank)}" data-apr="${h(x.apr)}">åŠ å…¥æ¯”ä»·</button>
          <a class="btn ghost" href="/loans/compare/page">å»å¯¹æ¯”é¡µ</a>
        </div>
      `;
      const row = document.createElement('div');
      row.className = 'li card';
      row.innerHTML = `<div>${left}</div><div>${right}</div>`;
      box.appendChild(row);
    }
    // ç»‘å®šåŠ å…¥æ¯”ä»·
    document.querySelectorAll('.add-compare').forEach(btn=>{
      btn.addEventListener('click', async ()=>{
        const payload = { product: btn.dataset.product, bank: btn.dataset.bank, apr: parseFloat(btn.dataset.apr||'0') };
        await fetch('/loans/compare/add',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});
        refreshCompareBadge();
        alert('å·²åŠ å…¥æ¯”ä»·ç¯®');
      });
    });
  }

  // æœç´¢
  document.getElementById('btnSearch').addEventListener('click',()=>{
    renderList(document.getElementById('q').value||'');
  });

  // DSR è¯•ç®—
  document.getElementById('btnCalc').addEventListener('click', async ()=>{
    const payload = {
      income: parseFloat(document.getElementById('income').value||0),
      commitments: parseFloat(document.getElementById('commitments').value||0),
      amount: parseFloat(document.getElementById('amount').value||0),
      rate: parseFloat(document.getElementById('rate').value||0),
      tenure_years: parseFloat(document.getElementById('tenure').value||0)
    };
    const r = await fetch('/loans/dsr/calc',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});
    const j = await r.json();
    const s = j.status || 'â€”';
    document.getElementById('dsrResult').innerHTML = `æœˆä¾›ï¼š<b>RM ${j.monthly||'-'}</b> Â· DSRï¼š<b>${j.dsr_percent||'-'}%</b> Â· çŠ¶æ€ï¼š<b>${s}</b>`;
  });

  (async function init(){
    await loadData();
    await renderList('');
  })();
</script>

{% endblock %}


â¸»

templates/compare.htmlï¼ˆCompare å¯¹æ¯”é¡µï¼šä¸€é”®é‡ç®— + æ’å + ä¿å­˜/åˆ†äº«/PDFï¼‰

{% extends "base.html" %}
{% block title %}Compare Loans Â· CreditPilot{% endblock %}
{% block head_extra %}
<style>
  :root{ --pink:#FF007F; --card:#322446; --bg:#1a1323; --text:#fff; --muted:#999; --line:#888 }
  body{ background:var(--bg); color:var(--text) }
  .wrap{ max-width:1100px; margin:20px auto; padding:0 12px }
  .toolbar{ display:flex; gap:8px; flex-wrap:wrap; margin-bottom:12px }
  .btn{ background:var(--card); color:#fff; border:1px solid #3b2b4e; border-radius:12px; padding:8px 12px; cursor:pointer; text-decoration:none; display:inline-flex; align-items:center }
  .btn.primary{ background:var(--pink); border-color:#ff6aa7 }
  .btn.ghost{ background:transparent; border:1px solid #ffffff33 }
  .card{ background:linear-gradient(180deg,#322446,#281a3a); border:1px solid #3b2b4e; border-radius:16px; padding:14px; box-shadow:0 6px 18px #0006 }
  .field{ display:flex; gap:8px; flex-wrap:wrap }
  .field input{ background:#0f0a14; color:#fff; border:1px solid #3b2b4e; border-radius:10px; padding:8px 10px; min-width:180px }
  .grid{ display:grid; gap:12px; grid-template-columns:1fr }
  table{ width:100%; border-collapse:collapse; margin-top:10px }
  th, td{ border:1px solid #3b2b4e; padding:8px; font-size:14px }
  th.sortable{ cursor:pointer; position:relative; padding-right:18px }
  th.sortable:after{ content:'â†•'; position:absolute; right:6px; opacity:.6 }
  th.sortable.asc:after{ content:'â†‘' }
  th.sortable.desc:after{ content:'â†“' }
  .status{ font-weight:700 }
  .status.PASS{ color:#6CFFB0 }
  .status.BORDERLINE{ color:#FFD070 }
  .status.HIGH{ color:#FF8A8A }
  .top-pick{ background:transparent; border:1px dashed #ffffff33; border-radius:14px; padding:12px; margin-bottom:10px }
  .badge{ display:inline-flex; align-items:center; justify-content:center; min-width:20px; height:20px; padding:0 6px;
          background:var(--pink); color:#fff; border-radius:999px; font-weight:700; margin-left:6px }
</style>
{% endblock %}

{% block content %}
<div class="wrap">

  <div class="toolbar">
    <a href="/loans/page" class="btn">â† è¿”å› Loans</a>
    <button id="recalcBtn" class="btn primary">ä¸€é”®é‡ç®—</button>
    <button id="saveSnapBtn" class="btn">ğŸ’¾ ä¿å­˜å¿«ç…§</button>
    <button id="shareBtn" class="btn primary">ğŸ”— å¤åˆ¶åˆ†äº«é“¾æ¥</button>
    <button id="pdfBtn" class="btn">ğŸ“„ å¯¼å‡º PDF</button>
    <button id="clearBtn" class="btn ghost">æ¸…ç©ºå¯¹æ¯”ç¯®</button>
    <div style="flex:1"></div>
    <div>Compare Basket <span id="cmpBadge" class="badge">0</span></div>
  </div>

  <!-- Top Pick -->
  <div id="topPick" class="top-pick" style="display:none">
    <div style="font-weight:700; margin-bottom:6px">æœ¬é¡µæœ€ä½³æ¨è Â· Top Pick ğŸ‘‘</div>
    <div id="topPickBody" class="meta">åŠ è½½ä¸­â€¦</div>
  </div>

  <!-- å‚æ•°åŒº -->
  <div class="card">
    <div style="font-weight:700; margin-bottom:6px">ğŸ§® è¾“å…¥å‚æ•°</div>
    <div class="field">
      <input id="amount" type="number" placeholder="è´·æ¬¾é‡‘é¢ (RM)" value="400000">
      <input id="tenure" type="number" placeholder="å¹´æœŸ (å¹´)" value="30">
      <input id="rate" type="number" step="0.01" placeholder="å¹´åˆ©ç‡ (%) - ç•™ç©º=ä½¿ç”¨äº§å“åˆŠç™»åˆ©ç‡" value="">
      <input id="income" type="number" placeholder="æœˆå‡€æ”¶å…¥ (RM)" value="8000">
      <input id="commitments" type="number" placeholder="ç°æœ‰æœˆä¾›åˆè®¡ (RM)" value="1500">
    </div>
  </div>

  <!-- ç»“æœè¡¨æ ¼ -->
  <div class="card" style="margin-top:10px">
    <div style="font-weight:700; margin-bottom:6px">ğŸ“Š å¯¹æ¯”ç»“æœ</div>
    <table id="compareTable">
      <thead>
        <tr>
          <th class="sortable" data-k="rank">Rank #</th>
          <th class="sortable" data-k="bank">Bank</th>
          <th class="sortable" data-k="product">Product</th>
          <th class="sortable" data-k="apr">APR %</th>
          <th class="sortable" data-k="monthly">Monthly (RM)</th>
          <th class="sortable" data-k="dsr_percent">DSR %</th>
          <th class="sortable" data-k="status">Status</th>
          <th>æ“ä½œ</th>
        </tr>
      </thead>
      <tbody>
        <!-- JS æ¸²æŸ“ -->
      </tbody>
    </table>
  </div>

</div>

<script>
  let BASKET=[], SORT={k:'statusRank', dir:'asc'};

  async function refreshBadge(){
    try{
      const r = await fetch('/loans/compare/json'); const j = await r.json();
      const n = (j&&j.items)? j.items.length : 0; document.getElementById('cmpBadge').textContent = n;
    }catch(e){}
  }

  async function loadBasket(){
    const r = await fetch('/loans/compare/list'); BASKET = await r.json(); // plain list
  }

  function pm(a, y, r){ // ç­‰é¢æœ¬æ¯æœˆä¾›
    const i = r/12/100, n = y*12; if(i===0){ return a/n; }
    return a*i*Math.pow(1+i,n)/(Math.pow(1+i,n)-1);
  }

  function compute(items){
    const amount = parseFloat(document.getElementById('amount').value||0);
    const tenure = parseFloat(document.getElementById('tenure').value||0);
    const overrideRate = parseFloat(document.getElementById('rate').value||0);
    const income = parseFloat(document.getElementById('income').value||0);
    const commitments = parseFloat(document.getElementById('commitments').value||0);
    return items.map((x)=> {
      const apr = overrideRate>0 ? overrideRate : parseFloat(x.apr||0);
      const monthly = Math.round(pm(amount, tenure, apr)*100)/100;
      const dsr_percent = Math.round(((commitments+monthly)/Math.max(income,1))*10000)/100;
      let status = 'BORDERLINE';
      if(dsr_percent<=55) status='PASS'; else if(dsr_percent>=70) status='HIGH';
      const statusRank = {PASS:0,BORDERLINE:1,HIGH:2}[status];
      return {...x, apr, monthly, dsr_percent, status, statusRank};
    });
  }

  function renderTopPick(rows){
    if(!rows.length){ document.getElementById('topPick').style.display='none'; return; }
    const best = rows[0];
    document.getElementById('topPickBody').innerHTML = `
      <div style="font-size:15px; margin-bottom:4px">${best.bank} Â· ${best.product}</div>
      <div class="meta">APR ${best.apr}% Â· æœˆä¾› RM ${best.monthly} Â· DSR ${best.dsr_percent}% Â· <span class="status ${best.status}">${best.status}</span></div>
    `;
    document.getElementById('topPick').style.display='block';
  }

  function renderTable(rows){
    const tb = document.querySelector('#compareTable tbody'); tb.innerHTML='';
    rows.forEach((r, idx)=>{
      const crown = (idx===0)? ' ğŸ‘‘' : '';
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${idx+1}${crown}</td>
        <td>${r.bank||''}</td>
        <td>${r.product||''}</td>
        <td>${r.apr}%</td>
        <td>RM ${r.monthly}</td>
        <td>${r.dsr_percent}%</td>
        <td class="status ${r.status}">${r.status}</td>
        <td><button class="btn ghost btn-remove" data-product="${r.product}">ç§»é™¤</button></td>
      `;
      tb.appendChild(tr);
    });
    document.querySelectorAll('.btn-remove').forEach(b=>{
      b.addEventListener('click', async ()=>{
        await fetch('/loans/compare/remove',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({product:b.dataset.product})});
        await init();
      });
    });
  }

  function sortRows(rows){
    const {k,dir} = SORT;
    const mul = dir==='asc'?1:-1;
    return rows.slice().sort((a,b)=>{
      if(k==='statusRank'){ return (a.statusRank-b.statusRank)*mul || (a.monthly-b.monthly)*mul || (a.dsr_percent-b.dsr_percent)*mul; }
      if(typeof a[k]==='number') return (a[k]-b[k])*mul;
      return String(a[k]||'').localeCompare(String(b[k]||''))*mul;
    });
  }

  // è¡¨å¤´æ’åº
  document.querySelectorAll('th.sortable').forEach(th=>{
    th.addEventListener('click', ()=>{
      const k = th.dataset.k;
      if(SORT.k===k){ SORT.dir = (SORT.dir==='asc'?'desc':'asc'); }
      else { SORT.k=k; SORT.dir='asc'; }
      document.querySelectorAll('th.sortable').forEach(x=>x.classList.remove('asc','desc'));
      th.classList.add(SORT.dir);
      const rows = sortRows(compute(BASKET));
      renderTopPick(rows); renderTable(rows);
    });
  });

  // ä¸€é”®é‡ç®—
  document.getElementById('recalcBtn').addEventListener('click', ()=>{
    const rows = sortRows(compute(BASKET));
    renderTopPick(rows); renderTable(rows);
  });

  // æ¸…ç©ºå¯¹æ¯”ç¯®
  document.getElementById('clearBtn').addEventListener('click', async ()=>{
    if(!confirm('ç¡®å®šæ¸…ç©ºå¯¹æ¯”ç¯®ï¼Ÿ')) return;
    await fetch('/loans/compare/clear',{method:'POST'});
    await init();
  });

  // ======= ä¿å­˜/åˆ†äº«/PDF =======
  function buildSnapshot(){
    const params = {
      amount: parseFloat(document.getElementById('amount').value||0),
      tenure_years: parseFloat(document.getElementById('tenure').value||0),
      rate: parseFloat(document.getElementById('rate').value||0),
      income: parseFloat(document.getElementById('income').value||0),
      commitments: parseFloat(document.getElementById('commitments').value||0)
    };
    const rows = [...document.querySelectorAll('#compareTable tbody tr')];
    const items = rows.map(tr=>{
      const tds = tr.querySelectorAll('td');
      return {
        bank: tds[1]?.textContent.trim(),
        product: tds[2]?.textContent.trim(),
        apr: parseFloat((tds[3]?.textContent||'').replace('%','')||0),
        monthly: parseFloat((tds[4]?.textContent||'').replace(/[^\d.]/g,'')||0),
        dsr_percent: parseFloat((tds[5]?.textContent||'').replace('%','')||0),
        status: tds[6]?.textContent.trim()
      }
    });
    return {params, items};
  }

  let LAST_SHARE=null;

  async function saveSnapshot(){
    const payload = buildSnapshot();
    const r = await fetch('/loans/compare/snapshot',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});
    if(!r.ok){ alert('ä¿å­˜å¤±è´¥'); return null; }
    LAST_SHARE = await r.json(); // {code,url}
    return LAST_SHARE;
  }

  document.getElementById('saveSnapBtn').addEventListener('click', async ()=>{
    const res = await saveSnapshot(); if(!res) return;
    alert('å·²ä¿å­˜å¿«ç…§ï¼š' + res.url);
  });

  document.getElementById('shareBtn').addEventListener('click', async ()=>{
    const res = LAST_SHARE || await saveSnapshot(); if(!res) return;
    const link = location.origin + res.url;
    try{ await navigator.clipboard.writeText(link); alert('å·²å¤åˆ¶åˆ†äº«é“¾æ¥'); }
    catch(e){ prompt('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶ï¼š', link); }
  });

  document.getElementById('pdfBtn').addEventListener('click', async ()=>{
    const res = LAST_SHARE || await saveSnapshot(); if(!res) return;
    window.location = '/loans/compare/pdf/' + res.code;
  });

  async function init(){
    await loadBasket();
    await refreshBadge();
    const rows = sortRows(compute(BASKET));
    renderTopPick(rows); renderTable(rows);
  }

  init();
</script>

{% endblock %}


â¸»

æ€ä¹ˆç”¨ï¼ˆè¶…çŸ­æ­¥éª¤ï¼‰
	1.	æŠŠä¸Šé¢ä¸¤ä»½æ¨¡æ¿ç²˜è´´è¦†ç›–åˆ°ä½ çš„é¡¹ç›®ï¼š
templates/loans_page.htmlã€templates/compare.html
	2.	é‡å¯æœåŠ¡ï¼Œè®¿é—®ï¼š

	â€¢	/loans/pageï¼šé¡¶ç«¯å‡ºç°Top-3 å¤§å¡ï¼Œâ€œåŠ å…¥æ¯”ä»·â€å³åˆ»ç”Ÿæ•ˆï¼›å³ä¸Šè§’ Compare å¾½æ ‡è‡ªåŠ¨è®¡æ•°
	â€¢	/loans/compare/pageï¼šæœ‰ä¸€é”®é‡ç®— + æ’å + ä¿å­˜/åˆ†äº«/PDFä¸‰ä»¶å¥—

å¦‚æœä½ è¿˜æ²¡æŠŠ loans_extras.py / share_store.py / pdf_maker.py åŠ è¿›å»ï¼Œå‘Šè¯‰æˆ‘ï¼Œæˆ‘æŠŠé‚£ä¸‰ä»½ä¹Ÿå†å‘ä¸€éï¼ˆä¸Šä¸ªå›åˆå·²ç»™ï¼‰ã€‚