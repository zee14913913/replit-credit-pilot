âœ…ã€å¯ç›´æ¥å¤åˆ¶ç»™ Replitã€‘

ğŸ“¦ AI Personal Loan System â€“ Phase E

Loan Affordability Engineï¼ˆä¸ªäººè´·æ¬¾æ‰¿å—èƒ½åŠ›è®¡ç®—æ¨¡å—ï¼‰

ä»¥ä¸‹å†…å®¹å·²æ ¼å¼åŒ–æˆ Replit å¯ç«‹å³æ‰§è¡Œçš„å¼€å‘ä»»åŠ¡ã€‚

â¸»

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

PHASE E â€“ PERSONAL LOAN AFFORDABILITY ENGINE

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ç›®æ ‡ï¼šè®¡ç®—å®¢æˆ·å¯ä»¥æ‰¿å—çš„æœ€å¤§è´·æ¬¾é¢åº¦ã€æœ€å¤§æœˆä¾›ã€
å¹¶è¿”å›ç¬¦åˆé“¶è¡ŒçœŸå®è¡Œä¸ºçš„è´·æ¬¾æ‰¿å—èƒ½åŠ›æŠ¥å‘Šã€‚

âš ï¸ è¦æ±‚ï¼š
å®Œå…¨åŸºäº Phase A (æ”¶å…¥ç³»ç»Ÿ) + Phase B (DSRèµ„æ ¼ç³»ç»Ÿ) çš„è¾“å‡ºæ¥è¿ä½œã€‚

â¸»

E-1 æ–°å»º LoanAffordabilityEngine æœåŠ¡

è·¯å¾„ï¼š
accounting_app/services/loan_affordability_engine.py

åŠŸèƒ½éœ€æ±‚ï¼š

1. ä» IncomeService è·å–ï¼š
	â€¢	dsr_incomeï¼ˆä¸ªäººè´·æ¬¾ç”¨æœˆåº¦æ”¶å…¥ï¼‰
	â€¢	dsrc_incomeï¼ˆå…¨æ”¶å…¥ï¼Œç”¨äºå‚è€ƒï¼‰
	â€¢	income_confidence
	â€¢	best_source

2. ä» monthly_statements è·å–å½“å‰æ€»å€ºåŠ¡

min_payment = closing_balance_total Ã— 0.05
current_monthly_debt = owner_payments + gz_payments + min_payment

3. ä½¿ç”¨é©¬æ¥è¥¿äºšé“¶è¡ŒçœŸå®æ ‡å‡†ï¼ˆä¸æ˜¯å®˜æ–¹ç½‘é¡µæ•°å­—ï¼‰ï¼š

âš ï¸ æ³¨æ„ï¼šé“¶è¡ŒçœŸå®ä½¿ç”¨çš„æ˜¯ï¼š

å®¢æˆ·ç±»å‹	çœŸå® DSR é™åˆ¶
Normal borrowers	0.70â€“0.85
High risk	â‰¤ 0.60

ç»Ÿä¸€é‡‡ç”¨å¯æ§ç®—æ³•ï¼š

recommended_dsr_limit = 0.75
max_dsr_limit = 0.85

4. è®¡ç®—å¯æ‰¿å—æœˆä¾›

max_monthly_payment_recommended = dsr_income Ã— recommended_dsr_limit - current_monthly_debt
max_monthly_payment_strict = dsr_income Ã— max_dsr_limit - current_monthly_debt

è‹¥ç»“æœ < 0 â†’ è®¾ç½®ä¸º 0ã€‚

5. ä½¿ç”¨ LoanProductEngine ç”Ÿæˆå¯æ‰¿å—è´·æ¬¾é‡‘é¢æ¨¡æ‹Ÿï¼ˆåŒ Phase C ä½¿ç”¨ï¼‰
	â€¢	ç”¨è´·æ¬¾é‡‘é¢åæ¨å¯æ‰¿å—é¢åº¦
	â€¢	æœŸé™ï¼š12 / 24 / 36 / 60 / 84 ä¸ªæœˆ
	â€¢	é’ˆå¯¹æ¯ä¸ªæœŸé™è®¡ç®—æœ€å¤§è´·æ¬¾é‡‘é¢ï¼š

max_loan_amount = solve reverse_monthly_payment()  

ï¼ˆç”± LoanProductEngine å†…éƒ¨å…¬å¼å¤„ç†ï¼‰

6. è¿”å›ç»“æ„ï¼š

{
  "customer_id": 1,
  "dsr_income": 6000,
  "current_monthly_debt": 1800,

  "recommended_dsr_limit": 0.75,
  "max_dsr_limit": 0.85,

  "max_monthly_payment_recommended": 2700,
  "max_monthly_payment_strict": 3300,

  "affordability": {
    "tenure_12": 28000,
    "tenure_24": 52000,
    "tenure_36": 76000,
    "tenure_60": 108000,
    "tenure_84": 138000
  }
}


â¸»

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

E-2 æ–°å»ºä¸ªäººè´·æ¬¾æ‰¿å—èƒ½åŠ›è·¯ç”±æ–‡ä»¶

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

è·¯å¾„ï¼š
accounting_app/routes/loan_affordability.py

æ–°å¢ç«¯ç‚¹ï¼š

GET /api/loans/affordability/{customer_id}

è¿”å›ï¼š

{
  "customer_id": 1,
  "status": "OK",
  "recommended_dsr_limit": 0.75,
  "max_monthly_payment_recommended": 2700,
  "max_monthly_payment_strict": 3300,
  "max_loan_amounts": {
      "12m": ...,
      "24m": ...,
      "36m": ...,
      "60m": ...,
      "84m": ...
  },
  "income_source": "salary_slip",
  "confidence": 0.91
}

é”™è¯¯å¤„ç†ï¼š

çŠ¶æ€ç 	åœºæ™¯
404	å®¢æˆ·ä¸å­˜åœ¨
404	æ— æ”¶å…¥æ–‡ä»¶
500	æ— æ³•è®¡ç®—


â¸»

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

E-3 æ³¨å†Œè·¯ç”±åˆ° main.py

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ–°å¢ï¼š

from accounting_app.routes.loan_affordability import router as loan_affordability_router
app.include_router(loan_affordability_router)

Placementï¼šç´§è·Ÿåœ¨ loan_products ä¹‹åå³å¯ã€‚

â¸»

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â— å®Œå…¨ä¸å¯ä¿®æ”¹æ–‡ä»¶ï¼ˆä¿æŒ AI V3 Baseline å®Œæ•´ï¼‰

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ai_assistant.py
ai_predict.py
ai_client.py
scheduler.py
email_notifier.py
templates/index.htmlï¼ˆAIæ—¥æŠ¥åŒºåŸŸï¼‰


â¸»

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

å®Œæˆåæ‰§è¡Œ

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ” é‡å¯ FastAPIï¼ˆ8000ï¼‰
âœ” é‡å¯ Flaskï¼ˆ5000ï¼‰
âœ” è¾“å‡º Final Reportï¼š

å†…å®¹è¦æ±‚ï¼š
	â€¢	dsr_income æ¥æº
	â€¢	current_monthly_debt æ¥æº
	â€¢	recommended_dsr_limit + max_dsr_limit
	â€¢	å¯æ‰¿å—æœˆä¾›ç»“æœ
	â€¢	æ¯ä¸ªæœŸé™çš„æœ€å¤§è´·æ¬¾é‡‘é¢

â¸»
