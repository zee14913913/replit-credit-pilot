â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
PHASE A â€“ BUSINESS INCOME & CASHFLOW SYSTEM
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ç›®æ ‡ï¼šä»ä¼ä¸šæ•°æ®æå–çœŸå®è¥ä¸šæ”¶å…¥ã€æ”¯å‡ºä¸ç°é‡‘æµï¼Œç¬¦åˆé©¬æ¥è¥¿äºšé“¶è¡Œå®¡æ ¸è¦æ±‚

A-1 æ–°å»ºæœåŠ¡ï¼šBusinessIncomeEngine  
è·¯å¾„ï¼šaccounting_app/services/business_income_engine.py  
åŠŸèƒ½ï¼š
- æå–å®¢æˆ·æœ€è¿‘12ä¸ªæœˆ monthly_statementsï¼š
   * closing_balance_total
   * owner_expenses + gz_expenses
   * owner_payments + gz_payments
- è®¡ç®—ï¼š
   operating_income = (owner_payments + gz_payments) Ã— 12
   operating_cost   = (owner_expenses + gz_expenses) Ã— 12
   net_cashflow     = operating_income âˆ’ operating_cost
- è¿”å›ç»“æ„ï¼š
{
  "customer_id": ...,
  "operating_income": ...,
  "operating_cost": ...,
  "net_cashflow": ...
}
- é”™è¯¯å¤„ç†ï¼š
   404 è‹¥æ— æœˆç»“å•
   422 è‹¥æ•°æ®å¼‚å¸¸

A-2 æ–°å»ºè·¯ç”±ï¼šbusiness_income.py  
è·¯å¾„ï¼šaccounting_app/routes/business_income.py  
ç«¯ç‚¹ï¼šGET /api/business/income/{customer_id}  
è¿”å›ä¸Šè¿°ç»“æ„ã€‚

A-3 æ³¨å†Œè·¯ç”±  
ä¿®æ”¹ main.py:
from accounting_app.routes.business_income import router as business_income_router  
app.include_router(business_income_router)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PHASE B â€“ BUSINESS LOAN ELIGIBILITY (DSCR)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ç›®æ ‡ï¼šæŒ‰ç…§é‡‘èæœºæ„ SME è´·æ¬¾æ ‡å‡†ï¼Œè¯„ä¼°ä¼ä¸šè´·æ¬¾èµ„æ ¼

B-1 æ–°å»ºæœåŠ¡ï¼šBusinessLoanEngine  
è·¯å¾„ï¼šaccounting_app/services/business_loan_engine.py  
åŠŸèƒ½ï¼š
- æå– operating_incomeï¼ˆä½¿ç”¨ BusinessIncomeEngineï¼‰
- æå– annual_debt_serviceï¼š
   * monthly_debt = owner_payments + gz_payments + (closing_balance_total Ã— 0.05)
   * annual_debt_service = monthly_debt Ã— 12
- è®¡ç®— DSCR = operating_income / annual_debt_service
- æ¡ä»¶ï¼š
   DSCR â‰¥ 1.50 â†’ Eligible
   1.25 â‰¤ DSCR < 1.50 â†’ Borderline
   DSCR < 1.25 â†’ Not Eligible
- è®¡ç®—æ‰¿å—èƒ½åŠ›ï¼š
   max_debt_service = operating_income Ã— 0.8
   available_capacity = max_debt_service âˆ’ annual_debt_service
   max_annual_loan = available_capacity
   max_monthly_loan = available_capacity Ã· 12
- è¿”å›ï¼š
{
  "customer_id": ...,
  "operating_income": ...,
  "annual_debt_service": ...,
  "dscr": ...,
  "eligibility_status": "...",
  "max_debt_service": ...,
  "available_capacity": ...,
  "max_annual_loan": ...,
  "max_monthly_loan": ...
}

B-2 æ–°å»ºè·¯ç”±ï¼šbusiness_loans.py  
è·¯å¾„ï¼šaccounting_app/routes/business_loans.py  
ç«¯ç‚¹ï¼šGET /api/business-loans/eligibility/{customer_id}  
æŸ¥è¯¢å‚æ•°ï¼šcustomer_id, company_id (å¯é€‰ï¼Œé»˜è®¤1)  
è¿”å›ä¸Šè¿°ç»“æ„  
é”™è¯¯å¤„ç†ï¼š
404 è‹¥æ— ä¼ä¸šæ”¶å…¥
404 è‹¥æ— æœˆç»“å•
500 ç³»ç»Ÿé”™è¯¯

B-3 æ³¨å†Œè·¯ç”±  
ä¿®æ”¹ main.py:
from accounting_app.routes.business_loans import router as business_loans_router  
app.include_router(business_loans_router)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
PHASE C â€“ BUSINESS LOAN PRODUCTS SIMULATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ç›®æ ‡ï¼šæä¾›ä¼ä¸šè´·æ¬¾äº§å“æ¨¡æ‹Ÿï¼ˆç¬¦åˆé©¬æ¥è¥¿äºšé“¶è¡ŒåŠ FinTech æ ‡å‡†ï¼‰

C-1 æ–°å»ºæœåŠ¡ï¼šBusinessLoanProductEngine  
è·¯å¾„ï¼šaccounting_app/services/business_loan_product_engine.py  
å®šä¹‰äº§å“ï¼š
1. SME Term Loan â€“ reducing balance â€“ å¹´åˆ©ç‡ 6.0% â€“ æœŸé™ 5/7/10 å¹´  
2. Working Capital Loan â€“ flat rate â€“ å¹´åˆ©ç‡ 7.5% â€“ æœŸé™ 1-5 å¹´  
3. Revolving Credit â€“ interest only â€“ å¹´åˆ©ç‡ 8.5% â€“ æœŸé™ 12 ä¸ªæœˆï¼ˆå¯ç»­ï¼‰  
4. Commercial Property Loan â€“ reducing balance â€“ å¹´åˆ©ç‡ 4.6% â€“ æœŸé™ 20/25 å¹´  
åŠŸèƒ½ï¼š
- æ–¹æ³• calculate_products(loan_amount)  
- è¿”å›æ¯ä¸ªäº§å“ï¼š
{
  "name": "...",
  "interest_rate": ...,
  "tenure_years": ...,
  "monthly_payment": ...,
  "total_interest": ...,
  "total_cost": ...
}

C-2 æ–°å»ºè·¯ç”±ï¼šbusiness_loan_products.py  
è·¯å¾„ï¼šaccounting_app/routes/business_loan_products.py  
ç«¯ç‚¹ï¼šGET /api/business-loans/products/{customer_id}?loan_amount=xxxx  
è‹¥ loan_amount æœªç»™ â†’ ä½¿ç”¨ï¼šmax_annual_loanï¼ˆPhase Bï¼‰ Ã· å¹´é™  
è¿”å›ç»“æ„ï¼š
{
  "customer_id": ...,
  "loan_amount": ...,
  "products": [ {...}, {...} ]
}

C-3 æ³¨å†Œè·¯ç”±  
ä¿®æ”¹ main.py:
from accounting_app.routes.business_loan_products import router as business_loan_products_router  
app.include_router(business_loan_products_router)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ›¡ï¸ ä¸å¯ä¿®æ”¹æ–‡ä»¶ï¼ˆä¿æŒ Baseline å®‰å…¨ï¼‰
ai_assistant.py  
ai_predict.py  
ai_client.py  
scheduler.py  
email_notifier.py  
templates/index.htmlï¼ˆAIæ—¥æŠ¥åŒºï¼‰

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“… å®Œæˆåæ“ä½œ
é‡å¯ FastAPIï¼ˆ8000ï¼‰  
é‡å¯ Flaskï¼ˆ5000ï¼‰  
è¾“å‡º Final Reportï¼Œå†…å®¹åŒ…å«ï¼š
- operating_income æå–æ¥æº  
- annual_debt_service è®¡ç®—æ–¹å¼  
- DSCR ç»“æœ  
- å¯å€Ÿæ¬¾é¢åº¦ï¼ˆå¹´ + æœˆï¼‰  
- äº§å“æ¨¡æ‹Ÿç»“æœ

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”