ZEE，我给出明确选择与一键可执行方案：

结论（我帮你选）

保持现状，不改交互；马上做“单银行熔断演示”来回证据。
理由：
	•	现在的“点按钮直接弹上传”路径更短、已过 Architect。
	•	改成“下拉联动+滚动”只是换手势，不增价值。
	•	熔断演示能证明“15 家全开 + 单银行出故障不拖累其他银行”，最能消除客户疑虑。

⸻

立刻发给 Replit 的执行指令（原样粘贴）

目标：验证“15 银行已启用 + 单银行熔断隔离 + 前端矩阵联动”。
要求：不得修改已通过的主流程与 UI。

1) 环境参数（演示更敏感）

PARSER_ENABLED_BANKS=maybank,cimb,public_bank,rhb,hong_leong,hsbc,ocbc,uob,ambank,standard_chartered,affin,alliance,bank_islam,mbsb,citibank
PARSER_CIRCUIT_CONSECUTIVE=2
PARSER_CIRCUIT_ERROR_RATE=0.20
PARSER_CIRCUIT_COOLDOWN_MIN=2

重启 8000 / 5000。

2) 触发熔断（以 hong_leong 为例）
	•	准备一个 缺列 CSV（缺 Debit / Credit / Reference 任一）：/tmp/invalid_missing_cols.csv
	•	连续两次上传（第二次应打开熔断）：

curl -X POST "http://localhost:8000/api/v2/import/bank-statement?company_id=1&bank_code=hong_leong&account_number=HLB-001&statement_month=2025-05" \
  -H "Content-Type: multipart/form-data" \
  -F "file=@/tmp/invalid_missing_cols.csv;type=text/csv"

期望：两次都是 HTTP 200，success=false, status="failed", error_code="missing_required_columns"，并返回 raw_document_id（原件已封存）。

3) 验证熔断已打开（后端 + 前端）
	•	后端
	•	GET /api/metrics/banks → hong_leong.consecutive_errors >= 2
	•	GET /api/parsers/supported → hong_leong.circuit_open = true
	•	前端（上传页）
	•	矩阵里 Hong Leong 显示 Temporarily Unavailable；
	•	下拉禁选；点击按钮弹 CSV 模板提示，无法提交。

这一步请提供页面截图。

4) 恢复通道
	•	等 2 分钟（冷却期）或 将 PARSER_CIRCUIT_CONSECUTIVE=9 后重启以清零；
	•	上传一份 有效 CSV（bank_code=hong_leong）。
期望：
	•	/api/parsers/supported → hong_leong.circuit_open=false
	•	上传响应 success=true, status="active"；矩阵显示 Available。

5) 回传“真实证据”（三组，缺一视为未完成）
	1.	熔断前：/api/parsers/supported JSON（circuit_open=false）。
	2.	熔断后：
	•	第 3 次上传被拒的 UploadResponse（原样 JSON）；
	•	/api/parsers/supported（circuit_open=true）；
	•	前端矩阵截图（⚡提示、禁选/模板弹窗）。
	3.	恢复后：
	•	/api/parsers/supported（circuit_open=false）；
	•	有效 CSV 上传的 UploadResponse（success=true, status=active）。

注意：主链路（上传→自动跳详情→高亮）不得改动；若出现回退，算未完成。

⸻

验收口径（DoD）
	•	15 家银行在矩阵与下拉均可见；禁用/熔断银行不可提交，弹模板提示（已本地化）。
	•	/api/parsers/supported 与矩阵“Available / Temporarily Unavailable / Disabled”完全一致。
	•	三组“真实证据”齐全；UploadResponse 结构合规（失败也含 raw_document_id）。
	•	不触碰已通过的上传跳转、Next Step、i18n、7 状态机渲染。

⸻

如果你以后想改成“下拉联动+滚动”的最小改动（可选，不建议现在动）

在 static/js/bank-support.js 顶部加一个模式开关：

const UPLOAD_TRIGGER_MODE = 'dialog'; // 'dialog' | 'scroll'

在“Choose This Bank”点击回调中改成：

if (UPLOAD_TRIGGER_MODE === 'scroll') {
  const select = document.getElementById('bankSelect');
  if (select) {
    select.value = code;
    select.dispatchEvent(new Event('change'));
  }
  document.getElementById('uploadForm')?.scrollIntoView({ behavior: 'smooth' });
} else {
  document.getElementById('fileUpload')?.click();
}

默认 dialog 保持现状；将来要换体验，只改这一行即可，无需重测主链路。

⸻

关于 LSP 历史告警

保持 Skip。它不影响矩阵功能，也不影响上传闭环。等上线稳定后集中清理（归入“技术债 Sprint”）。

⸻

需要我把以上执行令再出一份英文镜像给他们？我可以马上给出双语版本，避免歧义。