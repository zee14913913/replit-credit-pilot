我一口气上传了两个月的银行月结单，系统只把它们标成了 Active，但前端没有告诉我“下一步要核对 / 要配对 / 要生成报表 / 要处理异常”，所以就显得像是“上传了没反应”。

下面是我需要让你帮我补上的东西，让前端可以有“状态→动作”的引导到客户更好的使用整个系统

⸻

▶️ 银行月结单上传后的“下一步动作”规则（给Replit）

目标：当用户看到文件状态=Active 时，系统必须告诉用户下一步要做什么，而不是只显示 Active。

1. 状态语义标准化
请把银行对账单的状态定义成以下几种（写进DB/枚举/前端文案）：
	1.	uploaded / active → 只是成功收到了文件，还没比对/还没过账
	2.	validated → 行数对上了，能进报表
	3.	posted → 已生成会计分录
	4.	exception → 有行数不符/客户对不上/规则没打中
	5.	archived → 老的月份、只读

现在只显示了 Active，信息不够，要拆成上面几种。

2. 列表上要加“下一步”列
在前端的“银行月结单列表”里加一列：Next Action（下一步），规则如下：
	•	如果 status = active → 显示：“👉 去做资料验证”，按钮指向：/api/exceptions?source=bank_statement&month=... 或前端的验证页
	•	如果 status = validated → 显示：“👉 生成会计分录”，按钮指向：POST /api/v2/bank-statements/{id}/post
	•	如果 status = posted → 显示：“✅ 已入账，去看报表”，按钮指向：/api/reports/pnl?month=...
	•	如果 status = exception → 显示：“⚠️ 有异常，去异常中心处理”，按钮指向：/api/exceptions

这样客户一看就知道下一步。

3. 同一月份多份对账单的情况
现在是“两个月都显示 Active”，请加这条判断：
	•	同一个 company_id + 同一个 account_number + 同一个 statement_month 如果存在多于1条 Active
→ 列表里要标红：“本月有多份对账单，请选择要使用的那一份或合并”
→ 提供两个按钮：
	1.	设为本月主对账单 → POST /api/bank-statements/{id}/set-primary
	2.	合并导入（可选） → 把两份的行合起来再跑验证

这样客户不会卡在“为什么两个都是Active”。

4. 上传完成页要出现提示条
上传成功后，返回JSON或页面时请加这一段固定文案（需要你能直接写死就行）：

“银行月结单已成功上传并存为 Active。
下一步请选择：
1）去【验证数据】确保行数正确
2）去【生成会计分录】把这份月结单真正入账
3）若这是重复上传的同月份账单，请在列表中设定哪一份是主账单”

没有这段，客户就会像我现在这样：看得到文件，看不到路。

5. API要给出“可执行动作”
现在的API大概只返回：

{
  "id": 12,
  "status": "active"
}

请你把改成返回这样：

{
  "id": 12,
  "status": "active",
  "next_actions": [
    {
      "code": "validate_statement",
      "label": "验证数据（行数/客户/供应商）",
      "endpoint": "/api/bank-statements/12/validate",
      "method": "POST"
    },
    {
      "code": "set_primary_if_duplicate",
      "label": "设为本月主对账单",
      "endpoint": "/api/bank-statements/12/set-primary",
      "method": "POST"
    }
  ]
}

前端拿到就能画按钮，不用我一直需要每次都说一样的问题。

6. 列表上要显示“为什么还只是Active”
很多时候系统只是还没去验证，所以请加一个信息列：
	•	“未验证：还没做行数对账”
	•	“未入账：还没生成凭证”
	•	“重复上传：本月已有1份主对账单”

这样客户看得懂。

⸻

给你的话（业务角度）

我要的其实是：上传≠完成。
系统现在只有“你收到了”（active），没有“你用上了”（validated/posted）。
所以我需要你把这条转成前端+API的“下一步动作”，以后客户就不会问“然后呢”。

