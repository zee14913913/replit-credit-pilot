<!-- ç­›é€‰å™¨ç»„ä»¶ï¼ˆæ”¹è¿›ç‰ˆ - æ›´å®½æ•ã€æ›´æ¸…æ™°ï¼‰ -->
<form id="filterForm" class="row g-4">
    <!-- å®¢æˆ·ç­›é€‰ -->
    <div class="col-md-4">
        <label class="form-label" style="font-weight: 700; color: #FF007F; font-size: 1.05rem; margin-bottom: 10px;">
            <i class="bi bi-person-circle me-2"></i>{{ t('customer') }}
        </label>
        <select class="form-select form-select-lg" id="filterCustomer" name="customer_id" 
                style="background: rgba(255,255,255,0.05); border: 2px solid #FF007F; color: white; font-size: 1rem; padding: 14px 16px; border-radius: 10px;">
            <option value="">ğŸ” {{ t('all_customers') }}</option>
            {% for customer in customers %}
            <option value="{{ customer.id }}">{{ customer.name }}</option>
            {% endfor %}
        </select>
        <small class="text-muted d-block mt-1" style="font-size: 0.85rem; color: rgba(255,255,255,0.6);">
            é€‰æ‹©ç‰¹å®šå®¢æˆ·ä»¥æŸ¥çœ‹å…¶æŠ¥è¡¨è®°å½•
        </small>
    </div>
    
    <!-- è´¦æˆ·ç±»å‹ç­›é€‰ -->
    <div class="col-md-4">
        <label class="form-label" style="font-weight: 700; color: #FF007F; font-size: 1.05rem; margin-bottom: 10px;">
            <i class="bi bi-wallet2 me-2"></i>è´¦æˆ·ç±»å‹
        </label>
        <select class="form-select form-select-lg" id="filterAccount" name="account_type" 
                style="background: rgba(255,255,255,0.05); border: 2px solid #FF007F; color: white; font-size: 1rem; padding: 14px 16px; border-radius: 10px;">
            <option value="">ğŸ” {{ t('all_accounts') }}</option>
            <option value="credit_card">ğŸ’³ {{ t('credit_card') }}</option>
            <option value="savings">ğŸ¦ {{ t('savings_account') }}</option>
            <option value="loan">ğŸ  {{ t('loan_account') }}</option>
        </select>
        <small class="text-muted d-block mt-1" style="font-size: 0.85rem; color: rgba(255,255,255,0.6);">
            æŒ‰è´¦æˆ·ç±»å‹ç­›é€‰æŠ¥è¡¨æ•°æ®
        </small>
    </div>
    
    <!-- æ—¥æœŸèŒƒå›´ç­›é€‰ -->
    <div class="col-md-4">
        <label class="form-label" style="font-weight: 700; color: #FF007F; font-size: 1.05rem; margin-bottom: 10px;">
            <i class="bi bi-calendar-range me-2"></i>æ—¥æœŸèŒƒå›´
        </label>
        <div class="row g-2">
            <div class="col-6">
                <input type="date" class="form-control form-control-lg" id="filterDateFrom" name="date_from" 
                       placeholder="å¼€å§‹æ—¥æœŸ"
                       style="background: rgba(255,255,255,0.05); border: 2px solid #322446; color: white; font-size: 0.95rem; padding: 14px 12px; border-radius: 10px;">
            </div>
            <div class="col-6">
                <input type="date" class="form-control form-control-lg" id="filterDateTo" name="date_to" 
                       placeholder="ç»“æŸæ—¥æœŸ"
                       style="background: rgba(255,255,255,0.05); border: 2px solid #322446; color: white; font-size: 0.95rem; padding: 14px 12px; border-radius: 10px;">
            </div>
        </div>
        <small class="text-muted d-block mt-1" style="font-size: 0.85rem; color: rgba(255,255,255,0.6);">
            é€‰æ‹©æŠ¥è¡¨æ•°æ®çš„èµ·æ­¢æ—¥æœŸ
        </small>
    </div>
    
    <!-- æ“ä½œæŒ‰é’®ç»„ -->
    <div class="col-12">
        <div class="d-flex gap-3 justify-content-end">
            <button type="button" class="btn-professional-outline btn-lg" onclick="resetFilter()" style="padding: 14px 32px; font-size: 1rem; border-radius: 10px;">
                <i class="bi bi-arrow-clockwise me-2"></i>é‡ç½®ç­›é€‰
            </button>
            <button type="submit" class="btn-professional btn-lg" style="padding: 14px 40px; font-size: 1rem; border-radius: 10px; min-width: 160px;">
                <i class="bi bi-funnel-fill me-2"></i>{{ t('apply_filter') }}
            </button>
        </div>
    </div>
</form>

<script>
document.getElementById('filterForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const formData = new FormData(this);
    const params = new URLSearchParams(formData);
    window.location.href = '/reports/center?' + params.toString();
});

function resetFilter() {
    document.getElementById('filterCustomer').value = '';
    document.getElementById('filterAccount').value = '';
    document.getElementById('filterDateFrom').value = '';
    document.getElementById('filterDateTo').value = '';
    window.location.href = '/reports/center';
}
</script>
