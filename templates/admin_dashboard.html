{% extends "base.html" %}

{% block title %}{{ t('admin_dashboard') }} - {{ t('company_name') }}{% endblock %}

{% block content %}
<div class="container-fluid" style="max-width: 98%; padding: 2rem;">
    <!-- Navigation Buttons Bar -->
    <div class="mb-4" style="display: flex; gap: 1rem; flex-wrap: wrap; align-items: center;">
        <a href="{{ url_for('index') }}" 
           class="btn btn-lg" 
           style="background: linear-gradient(135deg, #322446 0%, #1a1a2e 100%); 
                  color: #FFFFFF; 
                  border: 2px solid #FFFFFF; 
                  font-weight: 700;
                  padding: 0.75rem 1.5rem;
                  box-shadow: 0 4px 15px rgba(50, 36, 70, 0.4);
                  transition: all 0.3s ease;">
            <i class="bi bi-arrow-left-circle"></i> {{ t('back_to_dashboard') }}
        </a>
        
        <a href="{{ url_for('admin_logout') }}" 
           class="btn btn-lg" 
           style="background: linear-gradient(135deg, #FF007F 0%, #c7005f 100%); 
                  color: #FFFFFF; 
                  border: 2px solid #FFFFFF; 
                  font-weight: 700;
                  padding: 0.75rem 1.5rem;
                  box-shadow: 0 4px 15px rgba(255, 0, 127, 0.4);
                  transition: all 0.3s ease;">
            <i class="bi bi-box-arrow-right"></i> {{ t('logout') }}
        </a>
        
        <a href="{{ url_for('admin_evidence_archive') }}" 
           class="btn btn-lg" 
           style="background: linear-gradient(135deg, #000000 0%, #1a1a1a 100%); 
                  color: #FF007F; 
                  border: 2px solid #FF007F; 
                  font-weight: 700;
                  padding: 0.75rem 1.5rem;
                  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
                  transition: all 0.3s ease;">
            <i class="bi bi-archive"></i> {{ t('evidence_archive') }}
        </a>
        
        <a href="{{ url_for('accounting_files') }}" 
           class="btn btn-lg" 
           style="background: linear-gradient(135deg, #1a1a2e 0%, #322446 100%); 
                  color: #FFFFFF; 
                  border: 2px solid #322446; 
                  font-weight: 700;
                  padding: 0.75rem 1.5rem;
                  box-shadow: 0 4px 15px rgba(50, 36, 70, 0.3);
                  transition: all 0.3s ease;">
            <i class="bi bi-folder-fill"></i> {{ t('file_management') }}
        </a>
    </div>
    
    <!-- DEBUG TEST BUTTON -->
    <div class="alert" style="background: rgba(255,0,127,0.2); border: 2px solid #FF007F; margin-bottom: 20px; padding: 20px;">
        <button onclick="testEditFunction()" class="btn" style="background: #FF007F; color: white; font-weight: 700; padding: 15px 30px; font-size: 18px;">
            ðŸ§ª {{ t('click_to_test_edit') }}
        </button>
        <p id="test_result" style="color: white; margin-top: 10px; font-weight: 600; font-size: 16px;"></p>
    </div>
    
    <div class="section-header">
        <h1 class="section-title" style="color: #FF007F; font-weight: 700;">ðŸ“Š {{ t('admin_dashboard') }}</h1>
        <p class="section-description" style="color: #FF007F;">{{ t('system_overview_subtitle') }}</p>
    </div>

    <!-- System Summary -->
    <div class="row g-4 mb-4">
        <div class="col-md-3">
            <div class="stat-card">
                <div class="stat-value" style="font-size: 1.8rem;">{{ customers|length }}</div>
                <div class="stat-label" style="color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">{{ t('total_customers') }}</div>
                <div class="stat-corner"></div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="stat-card">
                <div class="stat-value" style="font-size: 1.8rem;">{{ statement_count }}</div>
                <div class="stat-label" style="color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">{{ t('total_statements') }}</div>
                <div class="stat-corner"></div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="stat-card">
                <div class="stat-value" style="font-size: 1.8rem;">{{ txn_count }}</div>
                <div class="stat-label" style="color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">{{ t('total_transactions') }}</div>
                <div class="stat-corner"></div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="stat-card">
                <div class="stat-value" style="font-size: 1.8rem;">{{ active_cards }}</div>
                <div class="stat-label" style="color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">{{ t('active_cards') }}</div>
                <div class="stat-corner"></div>
            </div>
        </div>
    </div>

    <!-- Owner's Financial Statistics -->
    <div class="row g-4 mb-5">
        <div class="col-md-3">
            <div class="stat-card" style="background: linear-gradient(135deg, rgba(255, 0, 127, 0.1) 0%, rgba(0, 0, 0, 0.95) 100%); border: 1px solid #FF007F;">
                <div class="stat-value" style="color: #FF007F; font-size: 1.8rem;">RM {{ "{:,.0f}".format(total_owner_expenses) }}</div>
                <div class="stat-label" style="color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">{{ t('_owns_expenses') }}</div>
                <div class="stat-corner" style="background: #FF007F;"></div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="stat-card" style="background: linear-gradient(135deg, rgba(255, 0, 127, 0.1) 0%, rgba(0, 0, 0, 0.95) 100%); border: 1px solid #FF007F;">
                <div class="stat-value" style="color: #FF007F; font-size: 1.8rem;">RM {{ "{:,.0f}".format(abs(total_owner_payments)) }}</div>
                <div class="stat-label" style="color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">{{ t('_owns_payment') }}</div>
                <div class="stat-corner" style="background: #FF007F;"></div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="stat-card" style="background: linear-gradient(135deg, rgba(255, 0, 127, 0.1) 0%, rgba(0, 0, 0, 0.95) 100%); border: 1px solid #FF007F;">
                <div class="stat-value" style="color: #FF007F; font-size: 1.8rem;">RM {{ "{:,.0f}".format(total_owner_balance) }}</div>
                <div class="stat-label" style="color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">{{ t('_owns_os_bal') }}</div>
                <div class="stat-corner" style="background: #FF007F;"></div>
            </div>
        </div>
        <div class="col-md-3">
            <a href="{{ url_for('invoices_home') }}" style="text-decoration: none;">
                <div class="stat-card" style="background: linear-gradient(135deg, rgba(255, 0, 127, 0.1) 0%, rgba(0, 0, 0, 0.95) 100%); border: 1px solid #FF007F; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 8px 20px rgba(255,0,127,0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                    <div class="stat-value" style="color: #FF007F; font-size: 1.8rem;">{{ invoices_count }}</div>
                    <div class="stat-label" style="color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">{{ t('_supplier_invoices') }}</div>
                    <div class="stat-corner" style="background: #FF007F;"></div>
                </div>
            </a>
        </div>
    </div>

    <!-- GZ's Financial Statistics -->
    <div class="row g-4 mb-5">
        <div class="col-md-3">
            <div class="stat-card" style="background: linear-gradient(135deg, rgba(50, 36, 70, 0.3) 0%, rgba(0, 0, 0, 0.95) 100%); border: 1px solid #322446;">
                <div class="stat-value" style="color: #FFFEF0; font-size: 1.8rem;">RM {{ "{:,.0f}".format(total_gz_expenses) }}</div>
                <div class="stat-label" style="color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3); font-size: 0.9rem;">{{ t('_gzs_expenses') }}</div>
                <div class="stat-corner" style="background: #322446;"></div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="stat-card" style="background: linear-gradient(135deg, rgba(50, 36, 70, 0.3) 0%, rgba(0, 0, 0, 0.95) 100%); border: 1px solid #322446;">
                <div class="stat-value" style="color: #FFFEF0; font-size: 1.8rem;">RM {{ "{:,.0f}".format(abs(total_gz_payments)) }}</div>
                <div class="stat-label" style="color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3); font-size: 0.9rem;">{{ t('_gzs_payment') }}</div>
                <div class="stat-corner" style="background: #322446;"></div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="stat-card" style="background: linear-gradient(135deg, rgba(50, 36, 70, 0.3) 0%, rgba(0, 0, 0, 0.95) 100%); border: 1px solid #322446;">
                <div class="stat-value" style="color: #FFFEF0; font-size: 1.8rem;">RM {{ "{:,.0f}".format(total_gz_balance) }}</div>
                <div class="stat-label" style="color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3); font-size: 0.9rem;">{{ t('_gzs_os_bal') }}</div>
                <div class="stat-corner" style="background: #322446;"></div>
            </div>
        </div>
        <div class="col-md-3">
            <a href="{{ url_for('invoices_home') }}" style="text-decoration: none;">
                <div class="stat-card" style="background: linear-gradient(135deg, rgba(50, 36, 70, 0.3) 0%, rgba(0, 0, 0, 0.95) 100%); border: 1px solid #322446; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 8px 20px rgba(50,36,70,0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                    <div class="stat-value" style="color: #FFFEF0; font-size: 1.8rem;">RM {{ "{:,.2f}".format(invoices_total) }}</div>
                    <div class="stat-label" style="color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3); font-size: 0.9rem;">{{ t('_total_invoices_amount') }}</div>
                    <div class="stat-corner" style="background: #322446;"></div>
                </div>
            </a>
        </div>
    </div>

    <!-- {{ t('quick_actions__') }} -->
    <div class="row g-5 mb-5 justify-content-center">
        <div class="col-12 mb-4">
            <h3 style="color: #FF007F; text-shadow: 0 0 15px rgba(255,0,127,0.5); font-weight: 700; font-size: 2rem; margin: 0;">
                <i class="bi bi-grid-3x3-gap-fill"></i> {{ t('management_center') }}
            </h3>
            <p style="color: #999; margin: 0.5rem 0 0 0; font-size: 1rem;">{{ t('select_module_to_manage') }}</p>
        </div>
        
        <!-- 1. ä¿¡ç”¨å¡è´¦å•ç®¡ç† -->
        <div class="col-md-6 col-lg-4 col-xl-2">
            <a href="#creditCardStatements" style="text-decoration: none;" onclick="document.getElementById('creditCardStatements').scrollIntoView({behavior: 'smooth'}); return false;">
                <div class="quick-action-card" style="
                    background: #000000;
                    border: 3px solid #FF007F;
                    border-radius: 20px;
                    padding: 3.5rem 2.5rem;
                    transition: all 0.3s ease;
                    cursor: pointer;
                    min-height: 320px;
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: center;
                    box-shadow: 0 0 15px rgba(255, 0, 127, 0.4), 0 0 30px rgba(255, 0, 127, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.1);
                " onmouseover="this.style.transform='translateY(-8px)'; this.style.boxShadow='0 0 20px rgba(255,0,127,0.6), 0 0 40px rgba(255,0,127,0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 0 15px rgba(255, 0, 127, 0.4), 0 0 30px rgba(255, 0, 127, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.1)'">
                    <div style="text-align: center; margin-bottom: 1.8rem;">
                        <i class="bi bi-credit-card" style="font-size: 4.5rem; color: #FF007F; text-shadow: 0 0 20px rgba(255,0,127,0.6);"></i>
                    </div>
                    <h4 style="color: #FFFFFF; text-shadow: 0 0 10px rgba(255, 255, 255, 0.8); font-weight: 900; text-align: center; margin-bottom: 1.5rem; font-size: 1.4rem; text-transform: uppercase; letter-spacing: 0.08em; line-height: 1.4;">
                        {{ t('credit_card_statements_management') }}
                    </h4>
                    <div style="background: rgba(255,0,127,0.1); border-radius: 10px; padding: 1rem 1.5rem; text-align: center; width: 100%;">
                        <div style="color: #FF007F; font-size: 1.8rem; font-weight: 700; text-shadow: 0 0 10px rgba(255,0,127,0.4);">
                            {{ cc_statements|length }}
                        </div>
                        <div style="color: #FFFEF0; font-size: 0.85rem; margin-top: 0.5rem;">{{ t('statement_count') }}</div>
                    </div>
                </div>
            </a>
        </div>

        <!-- 2. å‚¨è“„è´¦æˆ·æœˆç»“å•ç®¡ç† -->
        <div class="col-md-6 col-lg-4 col-xl-2">
            <a href="#savingsStatements" style="text-decoration: none;" onclick="document.getElementById('savingsStatements').scrollIntoView({behavior: 'smooth'}); return false;">
                <div class="quick-action-card" style="
                    background: #000000;
                    border: 3px solid #FF007F;
                    border-radius: 20px;
                    padding: 3.5rem 2.5rem;
                    transition: all 0.3s ease;
                    cursor: pointer;
                    min-height: 320px;
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: center;
                    box-shadow: 0 0 15px rgba(255, 0, 127, 0.4), 0 0 30px rgba(255, 0, 127, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.1);
                " onmouseover="this.style.transform='translateY(-8px)'; this.style.boxShadow='0 0 20px rgba(255,0,127,0.6), 0 0 40px rgba(255,0,127,0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 0 15px rgba(255, 0, 127, 0.4), 0 0 30px rgba(255, 0, 127, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.1)'">
                    <div style="text-align: center; margin-bottom: 1.8rem;">
                        <i class="bi bi-bank" style="font-size: 4.5rem; color: #FF007F; text-shadow: 0 0 20px rgba(255,0,127,0.6);"></i>
                    </div>
                    <h4 style="color: #FFFFFF; text-shadow: 0 0 10px rgba(255, 255, 255, 0.8); font-weight: 900; text-align: center; margin-bottom: 1.5rem; font-size: 1.4rem; text-transform: uppercase; letter-spacing: 0.08em; line-height: 1.4;">
                        {{ t('savings_account_statements_management') }}
                    </h4>
                    <div style="background: rgba(255,0,127,0.1); border-radius: 10px; padding: 1rem 1.5rem; text-align: center; width: 100%;">
                        <div style="color: #FF007F; font-size: 1.8rem; font-weight: 700; text-shadow: 0 0 10px rgba(255,0,127,0.4);">
                            {{ sa_statements|length }}
                        </div>
                        <div style="color: #FFFEF0; font-size: 0.85rem; margin-top: 0.5rem;">{{ t('statement_count') }}</div>
                    </div>
                </div>
            </a>
        </div>

        <!-- 3. ä»˜æ¬¾æ”¶æ®ç®¡ç† -->
        <div class="col-md-6 col-lg-4 col-xl-2">
            <a href="{{ url_for('receipts_home') }}" style="text-decoration: none;">
                <div class="quick-action-card" style="
                    background: #000000;
                    border: 3px solid #FF007F;
                    border-radius: 20px;
                    padding: 3.5rem 2.5rem;
                    transition: all 0.3s ease;
                    cursor: pointer;
                    min-height: 320px;
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: center;
                    box-shadow: 0 0 15px rgba(255, 0, 127, 0.4), 0 0 30px rgba(255, 0, 127, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.1);
                " onmouseover="this.style.transform='translateY(-8px)'; this.style.boxShadow='0 0 20px rgba(255,0,127,0.6), 0 0 40px rgba(255,0,127,0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 0 15px rgba(255, 0, 127, 0.4), 0 0 30px rgba(255, 0, 127, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.1)'">
                    <div style="text-align: center; margin-bottom: 1.8rem;">
                        <i class="bi bi-receipt" style="font-size: 4.5rem; color: #FF007F; text-shadow: 0 0 20px rgba(255,0,127,0.6);"></i>
                    </div>
                    <h4 style="color: #FFFFFF; text-shadow: 0 0 10px rgba(255, 255, 255, 0.8); font-weight: 900; text-align: center; margin-bottom: 1.5rem; font-size: 1.4rem; text-transform: uppercase; letter-spacing: 0.08em; line-height: 1.4;">
                        {{ t('receipts_management') }}
                    </h4>
                    <div style="background: rgba(255,0,127,0.1); border-radius: 10px; padding: 1rem 1.5rem; text-align: center; width: 100%;">
                        <div style="color: #FF007F; font-size: 1.8rem; font-weight: 700; text-shadow: 0 0 10px rgba(255,0,127,0.4);">
                            {{ receipts_count }}
                        </div>
                        <div style="color: #FFFEF0; font-size: 0.85rem; margin-top: 0.5rem;">{{ t('receipt_total') }}</div>
                    </div>
                </div>
            </a>
        </div>

        <!-- 4. {{ t('supplier_invoices_') }} -->
        <div class="col-md-6 col-lg-4 col-xl-2">
            <a href="{{ url_for('invoices_home') }}" style="text-decoration: none;">
                <div class="quick-action-card" style="
                    background: #000000;
                    border: 3px solid #FF007F;
                    border-radius: 20px;
                    padding: 3.5rem 2.5rem;
                    transition: all 0.3s ease;
                    cursor: pointer;
                    min-height: 320px;
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: center;
                    box-shadow: 0 0 15px rgba(255, 0, 127, 0.4), 0 0 30px rgba(255, 0, 127, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.1);
                " onmouseover="this.style.transform='translateY(-8px)'; this.style.boxShadow='0 0 20px rgba(255,0,127,0.6), 0 0 40px rgba(255,0,127,0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 0 15px rgba(255, 0, 127, 0.4), 0 0 30px rgba(255, 0, 127, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.1)'">
                    <div style="text-align: center; margin-bottom: 1.8rem;">
                        <i class="bi bi-file-earmark-text-fill" style="font-size: 4.5rem; color: #FF007F; text-shadow: 0 0 20px rgba(255,0,127,0.6);"></i>
                    </div>
                    <h4 style="color: #FFFFFF; text-shadow: 0 0 10px rgba(255, 255, 255, 0.8); font-weight: 900; text-align: center; margin-bottom: 1.5rem; font-size: 1.4rem; text-transform: uppercase; letter-spacing: 0.08em; line-height: 1.4;">
                        {{ t('supplier_invoices_management') }}
                    </h4>
                    <div style="background: rgba(255,0,127,0.1); border-radius: 10px; padding: 1rem 1.5rem; text-align: center; width: 100%;">
                        <div style="color: #FF007F; font-size: 1.8rem; font-weight: 700; text-shadow: 0 0 10px rgba(255,0,127,0.4);">
                            {{ invoices_count }}
                        </div>
                        <div style="color: #FFFEF0; font-size: 0.85rem; margin-top: 0.5rem;">{{ t('invoice_total') }}</div>
                    </div>
                </div>
            </a>
        </div>

        <!-- 5. Monthly Summary Reports -->
        <div class="col-md-6 col-lg-4 col-xl-2">
            <a href="{{ url_for('monthly_summary_index') }}" style="text-decoration: none;">
                <div class="quick-action-card" style="
                    background: #000000;
                    border: 3px solid #FF007F;
                    border-radius: 20px;
                    padding: 3.5rem 2.5rem;
                    transition: all 0.3s ease;
                    cursor: pointer;
                    min-height: 320px;
                    display: flex;
                    flex-direction: column;
                    justify-content: center;
                    align-items: center;
                    box-shadow: 0 0 15px rgba(255, 0, 127, 0.4), 0 0 30px rgba(255, 0, 127, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.1);
                " onmouseover="this.style.transform='translateY(-8px)'; this.style.boxShadow='0 0 20px rgba(255,0,127,0.6), 0 0 40px rgba(255,0,127,0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 0 15px rgba(255, 0, 127, 0.4), 0 0 30px rgba(255, 0, 127, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.1)'">
                    <div style="text-align: center; margin-bottom: 1.8rem;">
                        <i class="bi bi-file-earmark-bar-graph-fill" style="font-size: 4.5rem; color: #FF007F; text-shadow: 0 0 20px rgba(255,0,127,0.6);"></i>
                    </div>
                    <h4 style="color: #FFFFFF; text-shadow: 0 0 10px rgba(255, 255, 255, 0.8); font-weight: 900; text-align: center; margin-bottom: 1.5rem; font-size: 1.4rem; text-transform: uppercase; letter-spacing: 0.08em; line-height: 1.4;">
                        {{ t('monthly_summary_reports') }}
                    </h4>
                    <div style="background: rgba(255,0,127,0.1); border-radius: 10px; padding: 1rem 1.5rem; text-align: center; width: 100%;">
                        <div style="color: #FF007F; font-size: 1.4rem; font-weight: 700; text-shadow: 0 0 10px rgba(255,0,127,0.4);">{{ t('guide_view_reports') }}</div>
                        <div style="color: #FFFEF0; font-size: 0.85rem; margin-top: 0.5rem;">{{ t('supplier_expenses_&_payments') }}</div>
                    </div>
                </div>
            </a>
        </div>
    </div>

    <!-- Credit Card Customers Table -->
    <div class="row g-4 mb-5" id="creditCardCustomers">
        <div class="col-12">
            <div class="statement-card" style="border: 2px solid #FF007F;">
                <div class="card-header-custom" style="background: linear-gradient(135deg, rgba(255, 0, 127, 0.1) 0%, rgba(0, 0, 0, 0.95) 100%); border-bottom: 2px solid #FF007F;">
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 1.5rem;">
                        <h3 class="card-title-custom" style="color: #FFFEF0; text-shadow: 0 0 10px rgba(255,254,240,0.4); font-weight: 700; margin: 0;">
                            <i class="bi bi-credit-card"></i>{{ t('credit_card_customers') }}</h3>
                        <span style="background: rgba(255,0,127,0.2); padding: 0.5rem 1rem; border-radius: 8px; color: #FF007F; font-weight: 700;">
                            {{ credit_card_customers|length }} Customers
                        </span>
                    </div>
                </div>
                <div class="card-body-custom" style="padding: 0;">
                    <div class="table-responsive">
                        <table class="table table-dark table-hover elegant-table" style="margin: 0; width: 100%;">
                            <thead style="background: rgba(255, 0, 127, 0.1); border-bottom: 2px solid #FF007F;">
                                <tr>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1);">{{ t('customer_name') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1);">{{ t('admindashboard_email') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1);">{{ t('admindashboard_phone') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1);">{{ t('monthly_income') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1); text-align: center;">{{ t('total_cards') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1); text-align: center;">{{ t('total_statements') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; text-align: center;">{{ t('actions') }}</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% if credit_card_customers %}
                                    {% for customer in credit_card_customers %}
                                    <tr class="hover-glow-row">
                                        <td style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); font-weight: 600; color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">
                                            {{ customer['name'] }}
                                        </td>
                                        <td style="font-size: 0.75rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); color: #999;">
                                            {{ customer['email'] if customer['email'] else '-' }}
                                        </td>
                                        <td style="font-size: 0.75rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); color: #999;">
                                            {{ customer['phone'] if customer['phone'] else '-' }}
                                        </td>
                                        <td style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); font-weight: 600; color: #FF007F;">
                                            RM {{ "{:,.0f}".format(customer['monthly_income']) if customer['monthly_income'] else '-' }}
                                        </td>
                                        <td style="font-size: 0.85rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); text-align: center; font-weight: 700; color: #FF007F;">
                                            {{ customer['total_cards'] }}
                                        </td>
                                        <td style="font-size: 0.85rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); text-align: center; font-weight: 700; color: #FFF;">
                                            {{ customer['total_statements'] }}
                                        </td>
                                        <td style="font-size: 0.80rem; padding: 0.9rem 1.2rem; text-align: center;">
                                            <a href="{{ url_for('credit_card_ledger', customer_id=customer['id']) }}" 
                                               class="btn btn-sm btn-view-details"
                                               style="background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); 
                                                      border: 2px solid #FF007F; 
                                                      color: #FFFFFF;
                                                      font-weight: 600;
                                                      padding: 0.25rem 0.75rem;
                                                      font-size: 0.75rem;">{{ t('view_ledger') }}</a>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                {% else %}
                                    <tr>
                                        <td colspan="7" style="text-align: center; padding: 3rem; color: #999;">{{ t('no_credit_card_customers_found') }}</td>
                                    </tr>
                                {% endif %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Savings Account Customers Table -->
    <div class="row g-4 mb-5" id="savingsCustomers">
        <div class="col-12">
            <div class="statement-card" style="border: 2px solid #7B68EE;">
                <div class="card-header-custom" style="background: linear-gradient(135deg, rgba(50, 36, 70, 0.3) 0%, rgba(0, 0, 0, 0.95) 100%); border-bottom: 2px solid #7B68EE;">
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 1.5rem;">
                        <h3 class="card-title-custom" style="color: #FFFEF0; text-shadow: 0 0 10px rgba(255,254,240,0.4); font-weight: 700; margin: 0;">
                            <i class="bi bi-bank"></i>{{ t('savings_account_customers') }}</h3>
                        <span style="background: rgba(123,104,238,0.3); padding: 0.5rem 1rem; border-radius: 8px; color: #9370DB; font-weight: 700;">
                            {{ savings_customers|length }} Customers
                        </span>
                    </div>
                </div>
                <div class="card-body-custom" style="padding: 0;">
                    <div class="table-responsive">
                        <table class="table table-dark table-hover elegant-table" style="margin: 0; width: 100%;">
                            <thead style="background: rgba(50, 36, 70, 0.3); border-bottom: 2px solid #7B68EE;">
                                <tr>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1);">{{ t('customer_name') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1);">{{ t('admindashboard_email') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1);">{{ t('admindashboard_phone') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1);">{{ t('monthly_income') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1); text-align: center;">{{ t('total_accounts') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1); text-align: center;">{{ t('total_statements') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; text-align: center;">{{ t('actions') }}</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% if savings_customers %}
                                    {% for customer in savings_customers %}
                                    <tr class="hover-glow-row">
                                        <td style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); font-weight: 600; color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">
                                            {{ customer['name'] }}
                                        </td>
                                        <td style="font-size: 0.75rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); color: #999;">
                                            {{ customer['email'] if customer['email'] else '-' }}
                                        </td>
                                        <td style="font-size: 0.75rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); color: #999;">
                                            {{ customer['phone'] if customer['phone'] else '-' }}
                                        </td>
                                        <td style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); font-weight: 600; color: #9370DB;">
                                            RM {{ "{:,.0f}".format(customer['monthly_income']) if customer['monthly_income'] else '-' }}
                                        </td>
                                        <td style="font-size: 0.85rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); text-align: center; font-weight: 700; color: #9370DB;">
                                            {{ customer['total_accounts'] }}
                                        </td>
                                        <td style="font-size: 0.85rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); text-align: center; font-weight: 700; color: #FFF;">
                                            {{ customer['total_statements'] }}
                                        </td>
                                        <td style="font-size: 0.80rem; padding: 0.9rem 1.2rem; text-align: center;">
                                            <a href="{{ url_for('savings_customers') }}" 
                                               class="btn btn-sm btn-view-details"
                                               style="background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); 
                                                      border: 2px solid #7B68EE; 
                                                      color: #FFFFFF;
                                                      font-weight: 600;
                                                      padding: 0.25rem 0.75rem;
                                                      font-size: 0.75rem;">
                                                View Accounts
                                            </a>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                {% else %}
                                    <tr>
                                        <td colspan="7" style="text-align: center; padding: 3rem; color: #999;">
                                            No savings account customers found
                                        </td>
                                    </tr>
                                {% endif %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Credit Card Statements Card -->
    <div class="row g-4 mb-5" id="creditCardStatements">
        <div class="col-12">
            <div class="statement-card" style="border: 2px solid #FF007F;">
                <div class="card-header-custom" style="background: linear-gradient(135deg, rgba(255, 0, 127, 0.1) 0%, rgba(0, 0, 0, 0.95) 100%); border-bottom: 2px solid #FF007F;">
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 1.5rem;">
                        <h3 class="card-title-custom" style="color: #FFFEF0; text-shadow: 0 0 10px rgba(255,254,240,0.4); font-weight: 700; margin: 0;">
                            <i class="bi bi-credit-card"></i> {{ t('credit_card_statements') }}
                        </h3>
                        <button id="exportCCTable" class="btn btn-sm" style="background: #FF007F; color: white; border: none;">
                            <i class="bi bi-download"></i>{{ t('export_excel') }}</button>
                    </div>
                </div>
                <div class="card-body-custom" style="padding: 0;">
                    <div class="table-responsive">
                        <table class="table table-dark table-hover elegant-table" style="margin: 0; width: 100%; table-layout: auto;">
                            <thead style="background: rgba(255, 0, 127, 0.1); border-bottom: 2px solid #FF007F;">
                                <tr>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1);">{{ t('month_of_statement') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1);">{{ t('name') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1);">{{ t('bank') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1); color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">{{ t('pre_bal') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1); color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">{{ t('statement_os') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1);">{{ t('due_date') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1);">{{ t('owner_expenses') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1);">{{ t('gz_expenses') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1);">{{ t('owner_payments') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1);">{{ t('gz_payments') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1);">{{ t('owner_os_bal') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1);">{{ t('gz_balance') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; text-align: center; color: #FFFFFF; text-shadow: 0 0 8px rgba(255,255,255,0.3);">{{ t('actions') }}</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% if cc_statements %}
                                    {% for stmt in cc_statements %}
                                    <tr class="hover-glow-row" id="row_{{ stmt['statement_id'] }}" data-editing="false">
                                        <td style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); font-weight: 600; color: #FFFFFF; text-shadow: 0 0 8px rgba(255,255,255,0.3); white-space: nowrap;">{{ stmt['statement_date'][:7] }}</td>
                                        <td style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); font-weight: 600; white-space: nowrap;">{{ stmt['customer_name'] }}</td>
                                        <td style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); font-weight: 600; color: #FFFFFF; text-shadow: 0 0 8px rgba(255,255,255,0.3); white-space: nowrap;">{{ stmt['bank_abbr'] }}</td>
                                        
                                        <td class="editable-cell" data-field="prev_bal" data-value="{{ stmt['prev_bal'] }}" style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); font-weight: 600; color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3); white-space: nowrap;">
                                            <span class="display-value">RM {{ "{:,.2f}".format(stmt['prev_bal']) }}</span>
                                            <input type="number" step="0.01" class="edit-input" value="{{ stmt['prev_bal'] }}" style="display: none; width: 100px; padding: 5px; background: white; color: black; border: 2px solid #FF007F;">
                                        </td>
                                        
                                        <td class="editable-cell" data-field="closing_balance" data-value="{{ stmt['closing_balance'] }}" style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); font-weight: 700; color: #FFFFFF; text-shadow: 0 0 8px rgba(255,255,255,0.3); white-space: nowrap;">
                                            <span class="display-value">RM {{ "{:,.2f}".format(stmt['closing_balance']) }}</span>
                                            <input type="number" step="0.01" class="edit-input" value="{{ stmt['closing_balance'] }}" style="display: none; width: 100px; padding: 5px; background: white; color: black; border: 2px solid #FF007F;">
                                        </td>
                                        
                                        <td style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); white-space: nowrap;">{{ stmt['due_date'] if stmt['due_date'] else '-' }}</td>
                                        
                                        <td class="editable-cell" data-field="owner_expenses" data-value="{{ stmt['owner_expenses'] }}" style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); font-weight: 700; color: #FF007F; text-shadow: 0 0 6px rgba(255,255,255,0.25); white-space: nowrap;">
                                            <span class="display-value">RM {{ "{:,.2f}".format(stmt['owner_expenses']) }}</span>
                                            <input type="number" step="0.01" class="edit-input" value="{{ stmt['owner_expenses'] }}" style="display: none; width: 100px; padding: 5px; background: white; color: black; border: 2px solid #FF007F;">
                                        </td>
                                        
                                        <td class="editable-cell" data-field="infinite_expenses" data-value="{{ stmt['infinite_expenses'] }}" style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); font-weight: 700; color: #FFFFFF; text-shadow: 0 0 10px rgba(255,255,255,0.4); white-space: nowrap;">
                                            <span class="display-value">RM {{ "{:,.2f}".format(stmt['infinite_expenses']) }}</span>
                                            <input type="number" step="0.01" class="edit-input" value="{{ stmt['infinite_expenses'] }}" style="display: none; width: 100px; padding: 5px; background: white; color: black; border: 2px solid #FF007F;">
                                        </td>
                                        
                                        <td class="editable-cell" data-field="owner_payments" data-value="{{ stmt['owner_payments'] }}" style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); font-weight: 700; color: #FF007F; text-shadow: 0 0 6px rgba(255,255,255,0.25); white-space: nowrap;">
                                            <span class="display-value">RM {{ "{:,.2f}".format(abs(stmt['owner_payments'])) }}</span>
                                            <input type="number" step="0.01" class="edit-input" value="{{ abs(stmt['owner_payments']) }}" style="display: none; width: 100px; padding: 5px; background: white; color: black; border: 2px solid #FF007F;">
                                        </td>
                                        
                                        <td class="editable-cell" data-field="infinite_payments" data-value="{{ stmt['infinite_payments'] }}" style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); font-weight: 700; color: #FFFFFF; text-shadow: 0 0 10px rgba(255,255,255,0.4); white-space: nowrap;">
                                            <span class="display-value">RM {{ "{:,.2f}".format(abs(stmt['infinite_payments'])) }}</span>
                                            <input type="number" step="0.01" class="edit-input" value="{{ abs(stmt['infinite_payments']) }}" style="display: none; width: 100px; padding: 5px; background: white; color: black; border: 2px solid #FF007F;">
                                        </td>
                                        
                                        <td class="editable-cell" data-field="owner_balance" data-value="{{ stmt['owner_os_bal'] }}" style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); font-weight: 700; color: #FF007F; text-shadow: 0 0 6px rgba(255,255,255,0.25); white-space: nowrap;">
                                            <span class="display-value">RM {{ "{:,.2f}".format(stmt['owner_os_bal']) }}</span>
                                            <input type="number" step="0.01" class="edit-input" value="{{ stmt['owner_os_bal'] }}" style="display: none; width: 100px; padding: 5px; background: white; color: black; border: 2px solid #FF007F;">
                                        </td>
                                        
                                        <td class="editable-cell" data-field="gz_balance" data-value="{{ stmt['infinite_os_bal'] }}" style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); font-weight: 700; color: #FFFFFF; text-shadow: 0 0 10px rgba(255,255,255,0.4); white-space: nowrap;">
                                            <span class="display-value">RM {{ "{:,.2f}".format(stmt['infinite_os_bal']) }}</span>
                                            <input type="number" step="0.01" class="edit-input" value="{{ stmt['infinite_os_bal'] }}" style="display: none; width: 100px; padding: 5px; background: white; color: black; border: 2px solid #FF007F;">
                                        </td>
                                        
                                        <td style="font-size: 0.80rem; padding: 0.9rem 1.2rem; text-align: center; white-space: nowrap;">
                                            <a href="{{ url_for('monthly_statement_detail', monthly_statement_id=stmt['statement_id']) }}" 
                                               class="btn btn-sm btn-view-details view-btn"
                                               style="background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); 
                                                      border: 2px solid #FF007F; 
                                                      color: #FFFFFF;
                                                      text-shadow: 0 0 8px rgba(255,255,255,0.3);
                                                      font-weight: 600;
                                                      padding: 0.25rem 0.75rem;
                                                      font-size: 0.75rem;
                                                      margin-right: 0.5rem;">
                                                {{ t('view_details') }}
                                            </a>
                                            <button class="btn btn-sm edit-toggle-btn"
                                               onclick="toggleRowEdit({{ stmt['statement_id'] }})"
                                               style="background: linear-gradient(135deg, #322446 0%, #4a3268 100%); 
                                                      border: 2px solid #FF007F; 
                                                      color: #FFFFFF;
                                                      text-shadow: 0 0 8px rgba(255,255,255,0.3);
                                                      font-weight: 600;
                                                      padding: 0.25rem 0.75rem;
                                                      font-size: 0.75rem;">
                                                <i class="bi bi-pencil-square"></i>{{ t('edit') }}</button>
                                            <button class="btn btn-sm save-btn" onclick="saveRowEdit({{ stmt['statement_id'] }})" style="display: none; background: #0f0; color: #000; border: none; padding: 0.25rem 0.75rem; font-size: 0.75rem; margin-right: 0.5rem; font-weight: 700;">
                                                <i class="bi bi-check-circle"></i>{{ t('save') }}</button>
                                            <button class="btn btn-sm cancel-btn" onclick="cancelRowEdit({{ stmt['statement_id'] }})" style="display: none; background: #f00; color: #fff; border: none; padding: 0.25rem 0.75rem; font-size: 0.75rem; font-weight: 700;">
                                                <i class="bi bi-x-circle"></i>{{ t('cancel') }}</button>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                {% else %}
                                    <tr>
                                        <td colspan="13" style="text-align: center; padding: 3rem; color: #999;">
                                            {{ t('no_cc_statements_found') }}
                                        </td>
                                    </tr>
                                {% endif %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bank Account Statements Card -->
    <div class="row g-4 mb-5" id="savingsStatements">
        <div class="col-12">
            <div class="statement-card" style="border: 2px solid #322446;">
                <div class="card-header-custom" style="background: linear-gradient(135deg, rgba(50, 36, 70, 0.3) 0%, rgba(0, 0, 0, 0.95) 100%); border-bottom: 2px solid #322446;">
                    <h3 class="card-title-custom" style="color: #FFFEF0; text-shadow: 0 0 10px rgba(255,254,240,0.4); font-weight: 700; margin: 0; padding: 1.5rem;">
                        <i class="bi bi-bank"></i> {{ t('bank_account_statements') }}
                    </h3>
                </div>
                <div class="card-body-custom" style="padding: 0;">
                    <div class="table-responsive">
                        <table class="table table-dark table-hover elegant-table" style="margin: 0; width: 100%; table-layout: auto;">
                            <thead style="background: rgba(50, 36, 70, 0.3); border-bottom: 2px solid #322446;">
                                <tr>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1); color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">{{ t('month_of_statement') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1); color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">{{ t('name') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1); color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">{{ t('bank') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1); color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">{{ t('monthly_credit') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1); color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">{{ t('monthly_debit') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1); color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">{{ t('closing_bal') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1); color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">{{ t('cc_sum_payment') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.1); color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">{{ t('total_transfer') }}</th>
                                    <th style="font-size: 0.85rem; padding: 1rem 1.2rem; text-align: center; color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3);">{{ t('actions') }}</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% if sa_statements %}
                                    {% for stmt in sa_statements %}
                                    <tr class="hover-glow-row">
                                        <td style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); font-weight: 600; color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3); white-space: nowrap;">{{ stmt['statement_date'][:7] }}</td>
                                        <td style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); font-weight: 600; color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3); white-space: nowrap;">{{ stmt['customer_name'] }}</td>
                                        <td style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); font-weight: 600; color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3); white-space: nowrap;">{{ stmt['bank_abbr'] }}</td>
                                        <td style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3); white-space: nowrap;">RM {{ "{:,.2f}".format(stmt['monthly_credit']) }}</td>
                                        <td style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3); white-space: nowrap;">RM {{ "{:,.2f}".format(stmt['monthly_debit']) }}</td>
                                        <td style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); font-weight: 600; color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3); white-space: nowrap;">RM {{ "{:,.2f}".format(stmt['closing_bal'] if stmt['closing_bal'] else 0) }}</td>
                                        <td style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3); white-space: nowrap;">RM {{ "{:,.2f}".format(stmt['cc_sum_payment']) }}</td>
                                        <td style="font-size: 0.80rem; padding: 0.9rem 1.2rem; border-right: 1px solid rgba(255,255,255,0.05); color: #FFFEF0; text-shadow: 0 0 8px rgba(255,254,240,0.3); white-space: nowrap;">RM {{ "{:,.2f}".format(stmt['total_transfer']) }}</td>
                                        <td style="font-size: 0.80rem; padding: 0.9rem 1.2rem; text-align: center; white-space: nowrap;">
                                            <a href="{{ url_for('verify_savings_statement', statement_id=stmt['statement_id']) }}" 
                                               class="btn btn-sm btn-view-details"
                                               style="background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); 
                                                      border: 2px solid #322446; 
                                                      color: #FFFEF0;
                                                      text-shadow: 0 0 8px rgba(255,254,240,0.3);
                                                      font-weight: 600;
                                                      padding: 0.25rem 0.75rem;
                                                      font-size: 0.75rem;">
                                                {{ t('view_details') }}
                                            </a>
                                        </td>
                                    </tr>
                                    {% endfor %}
                                {% else %}
                                    <tr>
                                        <td colspan="9" style="text-align: center; padding: 3rem; color: #999;">
                                            {{ t('no_sa_statements_found') }}
                                        </td>
                                    </tr>
                                {% endif %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.stat-card {
    background: linear-gradient(135deg, rgba(15, 15, 15, 0.95) 0%, rgba(26, 26, 26, 0.95) 100%);
    border: 1px solid rgba(192, 192, 192, 0.2);
    border-radius: 12px;
    padding: 2rem;
    text-align: center;
    position: relative;
    overflow: hidden;
}

.stat-value {
    font-family: 'Montserrat', sans-serif;
    font-size: 2.5rem;
    font-weight: 700;
    background: linear-gradient(135deg, #FFFFFF 0%, rgba(192, 192, 192, 0.9) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 0.5rem;
}

.stat-label {
    color: #A1A1AA;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.stat-corner {
    position: absolute;
    bottom: 0;
    right: 0;
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, transparent 50%, rgba(255, 255, 255, 0.05) 50%);
}

.statement-card {
    background: #000000;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
}

.elegant-table {
    background: #000000;
}

.elegant-table thead th {
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-size: 0.9rem;
    padding: 1.2rem;
    border: none;
    white-space: nowrap;
}

.elegant-table tbody td {
    padding: 1rem 1.2rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    vertical-align: middle;
    white-space: nowrap;
}

.hover-glow-row {
    transition: all 0.3s ease;
}

.hover-glow-row:hover {
    background: rgba(255, 255, 255, 0.03) !important;
    transform: translateX(5px);
}

.btn-view-details {
    transition: all 0.3s ease;
    white-space: nowrap;
}

.btn-view-details:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 0, 127, 0.4);
}

.datatable-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 1.5rem;
    background: rgba(255, 255, 255, 0.02);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.datatable-pagination {
    display: flex;
    gap: 0.5rem;
    align-items: center;
}

.datatable-pagination button {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: #fff;
    padding: 0.25rem 0.75rem;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
}

.datatable-pagination button:hover:not(:disabled) {
    background: rgba(255, 0, 127, 0.2);
    border-color: #FF007F;
}

.datatable-pagination button:disabled {
    opacity: 0.3;
    cursor: not-allowed;
}

.datatable-pagination button.active {
    background: #FF007F;
    border-color: #FF007F;
}
</style>

<script>
// Simple DataTable Implementation with Pagination and Export
class SimpleDataTable {
    constructor(tableId, options = {}) {
        this.table = document.getElementById(tableId);
        this.currentPage = 1;
        this.rowsPerPage = options.rowsPerPage || 25;
        this.rows = [];
        this.init();
    }

    init() {
        if (!this.table) return;
        
        // Get all rows except header
        const tbody = this.table.querySelector('tbody');
        if (!tbody) return;
        
        this.rows = Array.from(tbody.querySelectorAll('tr'));
        
        // Add controls
        this.addControls();
        
        // Display first page
        this.displayPage(1);
    }

    addControls() {
        const wrapper = this.table.closest('.table-responsive');
        if (!wrapper) return;

        const controls = document.createElement('div');
        controls.className = 'datatable-controls';
        controls.innerHTML = `
            <div>
                <span style="color: #999;">{{ t('show') }}</span>
                <select id="${this.table.id}_pageSize" style="background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); color: #fff; padding: 0.25rem 0.5rem; border-radius: 4px;">
                    <option value="10">10</option>
                    <option value="25" selected>25</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                    <option value="-1">{{ t('all') }}</option>
                </select>
                <span style="color: #999; margin-left: 1rem;">{{ t('entries') }}</span>
            </div>
            <div id="${this.table.id}_pagination" class="datatable-pagination"></div>
        `;
        
        wrapper.insertBefore(controls, this.table);

        // Page size change handler
        document.getElementById(`${this.table.id}_pageSize`).addEventListener('change', (e) => {
            this.rowsPerPage = parseInt(e.target.value);
            this.currentPage = 1;
            this.displayPage(1);
        });
    }

    displayPage(page) {
        const totalRows = this.rows.length;
        const totalPages = this.rowsPerPage === -1 ? 1 : Math.ceil(totalRows / this.rowsPerPage);
        
        this.currentPage = Math.max(1, Math.min(page, totalPages));

        // Hide all rows first
        this.rows.forEach(row => row.style.display = 'none');

        // Show rows for current page
        if (this.rowsPerPage === -1) {
            // Show all
            this.rows.forEach(row => row.style.display = '');
        } else {
            const start = (this.currentPage - 1) * this.rowsPerPage;
            const end = start + this.rowsPerPage;
            
            for (let i = start; i < end && i < totalRows; i++) {
                this.rows[i].style.display = '';
            }
        }

        // Update pagination buttons
        this.updatePagination(totalPages);
    }

    updatePagination(totalPages) {
        const paginationDiv = document.getElementById(`${this.table.id}_pagination`);
        if (!paginationDiv) return;

        let html = '';
        
        // Previous button
        html += `<button ${this.currentPage === 1 ? 'disabled' : ''} onclick="window.${this.table.id}_dt.displayPage(${this.currentPage - 1})">{{ t('_prev') }}</button>`;
        
        // Page numbers
        const maxButtons = 5;
        let startPage = Math.max(1, this.currentPage - Math.floor(maxButtons / 2));
        let endPage = Math.min(totalPages, startPage + maxButtons - 1);
        
        if (endPage - startPage < maxButtons - 1) {
            startPage = Math.max(1, endPage - maxButtons + 1);
        }

        for (let i = startPage; i <= endPage; i++) {
            html += `<button class="${i === this.currentPage ? 'active' : ''}" onclick="window.${this.table.id}_dt.displayPage(${i})">{{ t('i') }}</button>{{ t('_________________________next_button________html__') }}<button ${this.currentPage === totalPages ? 'disabled' : ''} onclick="window.${this.table.id}_dt.displayPage(${this.currentPage + 1})">{{ t('next_') }}</button>`;
        
        paginationDiv.innerHTML = html;
    }
}

// Export to Excel (CSV format)
function exportTableToExcel(tableId, filename = 'export.csv') {
    const table = document.getElementById(tableId);
    if (!table) return;

    const rows = table.querySelectorAll('tr');
    const csv = [];

    rows.forEach(row => {
        const cols = row.querySelectorAll('td, th');
        const rowData = [];
        
        cols.forEach(col => {
            // Clean text and handle special characters
            let text = col.innerText || col.textContent;
            text = text.replace(/"/g, '""'); // Escape quotes
            
            // Skip "View Details" buttons
            if (!text.includes('View Details')) {
                rowData.push(`"${text}"`);
            }
        });
        
        if (rowData.length > 0) {
            csv.push(rowData.join(','));
        }
    });

    // Create download link
    const csvContent = csv.join('\n');
    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
    const link = document.createElement('a');
    const url = URL.createObjectURL(blob);
    
    link.setAttribute('href', url);
    link.setAttribute('download', filename);
    link.style.visibility = 'hidden';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
}

// Initialize when DOM is ready
document.addEventListener('DOMContentLoaded', function() {
    // Initialize datatables
    window.ccStatementsTable_dt = new SimpleDataTable('ccStatementsTable', { rowsPerPage: 25 });
    
    // Export button handlers
    document.getElementById('exportCCTable')?.addEventListener('click', function() {
        exportTableToExcel('ccStatementsTable', 'Credit_Card_Statements.csv');
    });
});

// TEST FUNCTION
function testEditFunction() {
    const resultDiv = document.getElementById('test_result');
    const t = (key, fallback) => window.i18n?.translate(key) || fallback;
    resultDiv.innerHTML = t('test_running', 'â³ Testing...');
    
    try {
        // Test 1: Check if modal exists
        const modalElement = document.getElementById('editStatementModal');
        if (!modalElement) {
            resultDiv.innerHTML = t('test_error_dialog_not_found', 'âŒ Error: Edit dialog element not found!');
            return;
        }
        
        // Test 2: Try to open modal
        const modal = new bootstrap.Modal(modalElement);
        modal.show();
        
        // Test 3: Fill test data
        setTimeout(() => {
            document.getElementById('edit_prev_bal').value = '123.45';
            document.getElementById('edit_gz_bal').value = '678.90';
            
            // Test 4: Try to focus on input
            const input = document.getElementById('edit_prev_bal');
            input.focus();
            
            resultDiv.innerHTML = `
                âœ… <strong>{{ t('auto_text_218') }}</strong><br>
                ${t('test_dialog_opened', '- Dialog opened')}<br>
                ${t('test_input_filled', '- Input filled with test data')}<br>
                ${t('test_input_focused', '- Input focused')}<br>
                <br>
                <strong style="color: #FF007F;">{{ t('__8') }}</strong><br>
                <small>{{ t('auto_text_223') }}</small>
            `;
        }, 500);
        
    } catch (error) {
        resultDiv.innerHTML = t('test_error_prefix', 'âŒ Error: ') + error.message;
    }
}

function openEditModal(stmtId, customerName, bank, month, prevBal, ownerBal, gzBal, ownerExp, ownerPay, gzExp, gzPay, closingBal) {
    const debugDiv = document.getElementById('edit_debug_info');
    
    try {
        // Fill modal with statement info
        document.getElementById('edit_statement_id').value = stmtId;
        document.getElementById('modal_customer_name').textContent = customerName;
        document.getElementById('modal_bank').textContent = bank;
        document.getElementById('modal_month').textContent = month;
        
        // Fill editable fields
        const inputs = {
            'edit_prev_bal': prevBal.toFixed(2),
            'edit_owner_bal': ownerBal.toFixed(2),
            'edit_gz_bal': gzBal.toFixed(2),
            'edit_owner_expenses': ownerExp.toFixed(2),
            'edit_owner_payments': Math.abs(ownerPay).toFixed(2),
            'edit_gz_expenses': gzExp.toFixed(2),
            'edit_gz_payments': Math.abs(gzPay).toFixed(2),
            'edit_closing_bal': closingBal.toFixed(2)
        };
        
        // Fill each input and remove any blocking attributes
        for (const [id, value] of Object.entries(inputs)) {
            const input = document.getElementById(id);
            if (input) {
                input.value = value;
                // Force enable editing
                input.removeAttribute('readonly');
                input.removeAttribute('disabled');
                input.style.pointerEvents = 'auto';
                input.style.userSelect = 'text';
                input.style.cursor = 'text';
            }
        }
        
        // Show modal
        var editModal = new bootstrap.Modal(document.getElementById('editStatementModal'));
        editModal.show();
        
        // Debug: Try to focus first input after modal is shown
        setTimeout(() => {
            const firstInput = document.getElementById('edit_prev_bal');
            if (firstInput) {
                firstInput.focus();
                firstInput.select();
                
                if (debugDiv) {
                    debugDiv.style.display = 'block';
                    debugDiv.innerHTML = `âœ… Modal opened! Input focused. Value: ${firstInput.value}<br>
                                          {{ t('f') }}12æ‰“å¼€æµè§ˆå™¨æŽ§åˆ¶å°æŸ¥çœ‹é”™è¯¯ã€‚`;
                }
            }
        }, 300);
        
    } catch (error) {
        if (debugDiv) {
            const t = (key, fallback) => window.i18n?.translate(key) || fallback;
            debugDiv.style.display = 'block';
            debugDiv.innerHTML = t('test_error_prefix', 'âŒ Error: ') + error.message;
        }
        console.error('Error opening edit modal:', error);
    }
}

// ===== INLINE EDIT FUNCTIONS =====

function toggleRowEdit(stmtId) {
    const row = document.getElementById('row_' + stmtId);
    const isEditing = row.getAttribute('data-editing') === 'true';
    
    if (isEditing) {
        return; // Already editing
    }
    
    // Show input fields, hide display values
    const cells = row.querySelectorAll('.editable-cell');
    cells.forEach(cell => {
        cell.querySelector('.display-value').style.display = 'none';
        cell.querySelector('.edit-input').style.display = 'inline-block';
    });
    
    // Show Save/Cancel buttons, hide Edit/View buttons
    row.querySelector('.edit-toggle-btn').style.display = 'none';
    row.querySelector('.view-btn').style.display = 'none';
    row.querySelector('.save-btn').style.display = 'inline-block';
    row.querySelector('.cancel-btn').style.display = 'inline-block';
    
    row.setAttribute('data-editing', 'true');
}

function cancelRowEdit(stmtId) {
    const row = document.getElementById('row_' + stmtId);
    
    // Reset input values to original
    const cells = row.querySelectorAll('.editable-cell');
    cells.forEach(cell => {
        const originalValue = cell.getAttribute('data-value');
        cell.querySelector('.edit-input').value = originalValue;
        cell.querySelector('.display-value').style.display = 'inline';
        cell.querySelector('.edit-input').style.display = 'none';
    });
    
    // Show Edit/View buttons, hide Save/Cancel buttons
    row.querySelector('.edit-toggle-btn').style.display = 'inline-block';
    row.querySelector('.view-btn').style.display = 'inline-block';
    row.querySelector('.save-btn').style.display = 'none';
    row.querySelector('.cancel-btn').style.display = 'none';
    
    row.setAttribute('data-editing', 'false');
}

function saveRowEdit(stmtId) {
    const row = document.getElementById('row_' + stmtId);
    const cells = row.querySelectorAll('.editable-cell');
    
    // Collect data
    const formData = {};
    cells.forEach(cell => {
        const field = cell.getAttribute('data-field');
        let value = parseFloat(cell.querySelector('.edit-input').value);
        
        // Handle payments (need to be negative)
        if (field === 'owner_payments' || field === 'infinite_payments') {
            value = -Math.abs(value);
        }
        
        formData[field] = value;
    });
    
    // Rename fields to match backend
    const backendData = {
        previous_balance: formData.prev_bal,
        closing_balance: formData.closing_balance,
        owner_expenses: formData.owner_expenses,
        infinite_expenses: formData.infinite_expenses,
        owner_payments: formData.owner_payments,
        infinite_payments: formData.infinite_payments,
        owner_balance: formData.owner_balance,
        gz_balance: formData.gz_balance
    };
    
    // Send update request
    fetch('/monthly_statement/' + stmtId + '/edit', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(backendData)
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            alert('âœ… {{ t('n_saved_successfully_page_will_refresh') }}.');
            location.reload();
        } else {
            alert('âŒ ä¿å­˜å¤±è´¥ï¼š' + data.message + '\nâŒ Save failed: ' + data.message);
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert('âŒ {{ t('n_update_failed_please_try_again_later') }}.');
    });
}
</script>

<!-- Edit Statement Modal -->
<div class="modal fade" id="editStatementModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content" style="background: #1a1a1a; border: 2px solid #FF007F;">
            <div class="modal-header" style="border-bottom: 2px solid #FF007F;">
                <h5 class="modal-title" style="color: #FF007F; font-weight: 700;">
                    <i class="bi bi-pencil-square"></i> {{ t('__edit_monthly_statement') }}
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body" style="color: #FFFEF0;">
                <div class="alert alert-info" style="background: rgba(255,0,127,0.15); border: 1px solid #FF007F; color: #FFFFFF;">
                    <strong>{{ t('__9') }}</strong> ç‚¹å‡»ç™½è‰²è¾“å…¥æ¡†å³å¯ä¿®æ”¹æ•°å€¼ã€‚æ‰€æœ‰è¾“å…¥æ¡†éƒ½æ˜¯ç™½è‰²èƒŒæ™¯ï¼Œé»‘è‰²æ–‡å­—ã€‚
                </div>
                <div id="edit_debug_info" style="background: rgba(255,255,0,0.1); padding: 10px; margin-bottom: 10px; color: yellow; font-size: 12px; display: none;">
                    {{ t('debug__1') }}...
                </div>
                <form id="editStatementForm">
                    <input type="hidden" id="edit_statement_id" name="statement_id">
                    
                    <!-- Statement Info -->
                    <div class="mb-4 p-3" style="background: rgba(255,0,127,0.1); border: 1px solid #FF007F; border-radius: 8px;">
                        <div class="row">
                            <div class="col-md-4">
                                <strong style="color: #FF007F;">{{ t('__customer') }}</strong><br>
                                <span id="modal_customer_name"></span>
                            </div>
                            <div class="col-md-4">
                                <strong style="color: #FF007F;">{{ t('__bank') }}</strong><br>
                                <span id="modal_bank"></span>
                            </div>
                            <div class="col-md-4">
                                <strong style="color: #FF007F;">{{ t('__month') }}</strong><br>
                                <span id="modal_month"></span>
                            </div>
                        </div>
                    </div>

                    <!-- Editable Fields -->
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label" style="color: #FFFEF0; font-weight: 600;">
                                <i class="bi bi-arrow-left-circle"></i> {{ t('previous_balance__') }}
                            </label>
                            <div class="input-group">
                                <span class="input-group-text" style="background: #322446; color: #FFFEF0; border-color: #FF007F;">{{ t('rm') }}</span>
                                <input type="text" 
                                       class="form-control" 
                                       id="edit_prev_bal" 
                                       name="previous_balance" 
                                       style="background: white !important; 
                                              color: black !important; 
                                              border: 2px solid #FF007F !important; 
                                              font-size: 18px !important; 
                                              padding: 10px !important;
                                              pointer-events: auto !important;
                                              user-select: text !important;" 
                                       placeholder="{{ t('__enter_number') }}">
                            </div>
                        </div>

                        <div class="col-md-6">
                            <label class="form-label" style="color: #FFFEF0; font-weight: 600;">
                                <i class="bi bi-check-circle"></i> {{ t('closing_balance__') }}
                            </label>
                            <div class="input-group">
                                <span class="input-group-text" style="background: #322446; color: #FFFEF0; border-color: #FF007F;">{{ t('rm') }}</span>
                                <input type="text" 
                                       class="form-control" 
                                       id="edit_closing_bal" 
                                       name="closing_balance" 
                                       style="background: white !important; 
                                              color: black !important; 
                                              border: 2px solid #FF007F !important; 
                                              font-size: 18px !important; 
                                              padding: 10px !important;
                                              pointer-events: auto !important;
                                              user-select: text !important;" 
                                       placeholder="{{ t('__enter_number') }}">
                            </div>
                        </div>

                        <div class="col-12"><hr style="border-color: rgba(255,0,127,0.3);"></div>

                        <div class="col-md-6">
                            <label class="form-label" style="color: #FF007F; font-weight: 600;">
                                ðŸ’³ {{ t('owner_expenses__owner') }}
                            </label>
                            <div class="input-group">
                                <span class="input-group-text" style="background: #322446; color: #FF007F; border-color: #FF007F;">{{ t('rm') }}</span>
                                <input type="text" 
                                       class="form-control" 
                                       id="edit_owner_expenses" 
                                       name="owner_expenses" 
                                       style="background: white !important; 
                                              color: black !important; 
                                              border: 2px solid #FF007F !important; 
                                              font-size: 18px !important; 
                                              padding: 10px !important;
                                              pointer-events: auto !important;
                                              user-select: text !important;" 
                                       placeholder="{{ t('__enter_number') }}">
                            </div>
                        </div>

                        <div class="col-md-6">
                            <label class="form-label" style="color: #FF007F; font-weight: 600;">
                                ðŸ’° {{ t('owner_payments__owner') }}
                            </label>
                            <div class="input-group">
                                <span class="input-group-text" style="background: #322446; color: #FF007F; border-color: #FF007F;">{{ t('rm') }}</span>
                                <input type="text" 
                                       class="form-control" 
                                       id="edit_owner_payments" 
                                       name="owner_payments" 
                                       style="background: white !important; 
                                              color: black !important; 
                                              border: 2px solid #FF007F !important; 
                                              font-size: 18px !important; 
                                              padding: 10px !important;
                                              pointer-events: auto !important;
                                              user-select: text !important;" 
                                       placeholder="{{ t('__enter_number') }}">
                            </div>
                        </div>

                        <div class="col-md-6">
                            <label class="form-label" style="color: #FFFEF0; font-weight: 600;">
                                ðŸ¢ {{ t('infinite_expenses__infinite') }}
                            </label>
                            <div class="input-group">
                                <span class="input-group-text" style="background: #322446; color: #FFFFFF; border-color: #322446;">{{ t('rm') }}</span>
                                <input type="text" 
                                       class="form-control" 
                                       id="edit_gz_expenses" 
                                       name="gz_expenses" 
                                       style="background: white !important; 
                                              color: black !important; 
                                              border: 2px solid #FF007F !important; 
                                              font-size: 18px !important; 
                                              padding: 10px !important;
                                              pointer-events: auto !important;
                                              user-select: text !important;" 
                                       placeholder="{{ t('__enter_number') }}">
                            </div>
                        </div>

                        <div class="col-md-6">
                            <label class="form-label" style="color: #FFFEF0; font-weight: 600;">
                                ðŸ’µ {{ t('infinite_payments__infinite') }}
                            </label>
                            <div class="input-group">
                                <span class="input-group-text" style="background: #322446; color: #FFFFFF; border-color: #322446;">{{ t('rm') }}</span>
                                <input type="text" 
                                       class="form-control" 
                                       id="edit_gz_payments" 
                                       name="gz_payments" 
                                       style="background: white !important; 
                                              color: black !important; 
                                              border: 2px solid #FF007F !important; 
                                              font-size: 18px !important; 
                                              padding: 10px !important;
                                              pointer-events: auto !important;
                                              user-select: text !important;" 
                                       placeholder="{{ t('__enter_number') }}">
                            </div>
                        </div>

                        <div class="col-12"><hr style="border-color: rgba(255,0,127,0.3);"></div>

                        <div class="col-md-6">
                            <label class="form-label" style="color: #FF007F; font-weight: 600;">
                                ðŸ“Š {{ t('owner_balance__owner') }}
                            </label>
                            <div class="input-group">
                                <span class="input-group-text" style="background: #322446; color: #FF007F; border-color: #FF007F;">{{ t('rm') }}</span>
                                <input type="text" 
                                       class="form-control" 
                                       id="edit_owner_bal" 
                                       name="owner_balance" 
                                       style="background: white !important; 
                                              color: black !important; 
                                              border: 2px solid #FF007F !important; 
                                              font-size: 18px !important; 
                                              padding: 10px !important;
                                              pointer-events: auto !important;
                                              user-select: text !important;" 
                                       placeholder="{{ t('__enter_number') }}">
                            </div>
                        </div>

                        <div class="col-md-6">
                            <label class="form-label" style="color: #FFFEF0; font-weight: 600;">
                                ðŸ“ˆ {{ t('infinite_balance__infinite') }}
                            </label>
                            <div class="input-group">
                                <span class="input-group-text" style="background: #322446; color: #FFFFFF; border-color: #322446;">{{ t('rm') }}</span>
                                <input type="text" 
                                       class="form-control" 
                                       id="edit_gz_bal" 
                                       name="gz_balance" 
                                       style="background: white !important; 
                                              color: black !important; 
                                              border: 2px solid #FF007F !important; 
                                              font-size: 18px !important; 
                                              padding: 10px !important;
                                              pointer-events: auto !important;
                                              user-select: text !important;" 
                                       placeholder="{{ t('__enter_number') }}">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer" style="border-top: 2px solid #FF007F;">
                <button type="button" class="btn" style="background: #322446; color: #FFFEF0; border: 1px solid #999;" data-bs-dismiss="modal">
                    <i class="bi bi-x-circle"></i> {{ t('__cancel') }}
                </button>
                <button type="button" class="btn" style="background: linear-gradient(135deg, #FF007F 0%, #c9005f 100%); color: #FFFFFF; border: none;" onclick="saveStatementEdit()">
                    <i class="bi bi-save"></i> {{ t('__save_changes') }}
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}
