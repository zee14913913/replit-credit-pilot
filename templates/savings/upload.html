{% extends "base.html" %}

{% block title %}{{ t('upload_savings_statement') }}{% endblock %}

{% block content %}
<div class="fade-in">
    <div class="section-header">
        <h1 class="section-title">{{ t('upload_savings_statement') }}</h1>
        <p class="section-subtitle">{{ t('upload_bank_statements_desc') }}</p>
    </div>

    <!-- Upload Form -->
    <div class="professional-card" style="border: 2px solid #FF007F;">
        <form method="POST" enctype="multipart/form-data">
            <div class="row g-4">
                <!-- Bank Selection -->
                <div class="col-md-6">
                    <label class="form-label">{{ t('bank') }}</label>
                    <select name="bank_name" class="form-select" required>
                        <option value="">-- {{ t('select_bank') }} --</option>
                        <option value="Maybank">{{ t('maybank') }}</option>
                        <option value="GX Bank">{{ t('gx_bank') }}</option>
                        <option value="Hong Leong Bank">{{ t('hong_leong_bank') }}</option>
                        <option value="CIMB">{{ t('cimb') }}</option>
                        <option value="UOB">{{ t('uob') }}</option>
                        <option value="OCBC">{{ t('ocbc') }}</option>
                        <option value="Public Bank">{{ t('public_bank') }}</option>
                        <option value="Generic">{{ t('other_bank') }} (Generic)</option>
                    </select>
                </div>

                <!-- Customer (Optional) -->
                <div class="col-md-6">
                    <label class="form-label">{{ t('customer_optional') }}</label>
                    <select name="customer_id" class="form-select">
                        <option value="">-- {{ t('not_linked_customer') }} --</option>
                        {% for customer in customers %}
                        <option value="{{ customer.id }}">{{ customer.name }}</option>
                        {% endfor %}
                    </select>
                </div>

                <!-- File Upload -->
                <div class="col-12">
                    <label class="form-label">{{ t('statements_files') }}</label>
                    <input type="file" 
                           name="statements" 
                           class="form-control" 
                           accept=".pdf,.xlsx,.xls" 
                           multiple 
                           required>
                    <small style="color: var(--text-secondary); margin-top: 0.5rem; display: block;">
                        {{ t('supports_batch_upload') }}
                    </small>
                </div>

                <!-- Info Box -->
                <div class="col-12">
                    <div class="alert-professional alert-info-pro">
                        <div>
                            <strong>{{ t('feature_description') }}:</strong>
                            <ul style="margin-top: 0.5rem; margin-bottom: 0;">
                                <li>{{ t('auto_extract_transactions') }}</li>
                                <li>{{ t('preserve_date_description_amount') }}</li>
                                <li>{{ t('search_by_customer_generate_settlement') }}</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="col-12">
                    <button type="submit" class="btn-professional">
                        {{ t('upload_statement_btn') }}
                    </button>
                    <a href="{{ url_for('savings_customers') }}" class="btn-professional-outline ms-3">
                        {{ t('back_to_customers') }}
                    </a>
                </div>
            </div>
        </form>
    </div>
</div>
{% endblock %}
