# CreditPilot 系统文档总索引

**版本**: V2025.11  
**更新日期**: 2025-11-24  
**文档状态**: 完整版

---

## 📚 文档结构

本系统提供**4份核心文档**，涵盖功能、技术、操作、会计审计4个维度：

---

### 📖 1. 系统功能完整手册
**文件名**: `CREDITPILOT_系统功能完整手册.md`  
**适用对象**: 客户、业务人员、管理层  
**目的**: 了解系统能做什么、为客户提供什么价值

#### 主要内容

| 章节 | 内容概览 |
|------|----------|
| **系统概述** | CreditPilot是什么？核心价值 |
| **核心功能模块** | 8大模块功能介绍 |
| **信用卡计算引擎** | 第1轮、第2轮、最终计算详解 |
| **PDF解析系统** | 13家银行、100%数据质量保证 |
| **贷款评估系统** | DSR/DTI计算、804个产品库 |
| **交易分类规则** | 7个Suppliers、9个GZ银行 |
| **月度账本引擎** | Customer/INFINITE双账本 |
| **AI智能助手** | 财务问答、每日报告 |
| **报告中心** | Excel专业格式、13项标准 |
| **系统设置配置** | RBAC权限、3色规则、通知系统 |

**关键亮点**:
- ✅ 100%数据准确性保证
- ✅ 支持13家马来西亚银行
- ✅ 804个贷款产品智能匹配
- ✅ 156个信用卡产品对比
- ✅ AI驱动的财务分析

---

### 🔧 2. 技术配置详细文档
**文件名**: `CREDITPILOT_技术配置详细文档.md`  
**适用对象**: 技术人员、系统管理员、开发人员  
**目的**: 了解系统架构、配置参数、技术实现

#### 主要内容

| 章节 | 内容概览 |
|------|----------|
| **数据库结构** | 21个核心表完整DDL |
| **Parser系统配置** | 13家银行解析规则、验证层级 |
| **计算引擎参数** | Decimal精度、容差设置、负数处理 |
| **API端点清单** | Flask（Port 5000）+ FastAPI（Port 8000） |
| **配置文件详解** | colors.json、app_settings.json |
| **环境变量** | 必需/可选变量清单 |
| **部署配置** | Replit/Render/Railway部署指南 |
| **性能优化参数** | 数据库、批量操作、缓存设置 |

**技术规格**:
```yaml
数据库: SQLite（dev）/ PostgreSQL（prod）
后端框架: Flask + FastAPI
PDF解析: pdfplumber（本地零成本）
AI引擎: Perplexity AI + OpenAI
精度计算: Python Decimal
通知服务: SendGrid + Twilio
```

**核心表清单**:
1. customers - 客户表
2. credit_cards - 信用卡表
3. statements - 账单表
4. transactions - 交易表
5. monthly_ledger - Customer月度账本
6. infinite_monthly_ledger - INFINITE月度账本
7. loan_products - 804个贷款产品
8. credit_card_products - 156个信用卡产品
9. ctos_reports - CTOS报告
10. audit_logs - 审计日志
... 共21个表

---

### 💼 3. 会计与审计系统手册
**文件名**: `CREDITPILOT_会计与审计系统手册.md`  
**适用对象**: 会计师、审计员、财务管理人员  
**目的**: 了解会计系统、审计日志、RBAC权限

#### 主要内容

| 章节 | 内容概览 |
|------|----------|
| **会计系统概述** | 双引擎架构、核心功能 |
| **核心功能模块** | 银行对账单、会计分录、供应商管理 |
| **审计日志系统** | 完整追踪、查询分析 |
| **RBAC权限系统** | 5个角色层级、权限矩阵 |
| **会计分录引擎** | 自动分录规则、会计科目表 |
| **财务报表生成** | P&L、Balance Sheet、银行贷款报表包 |
| **SFTP ERP同步** | 自动导出、7种数据类型 |
| **API端点详解** | 完整API列表 |

**系统架构**:
```yaml
FastAPI后端（Port 8000）:
  - 会计分录生成
  - 财务报表
  - 审计日志（完整追踪）
  - RBAC权限（5个角色）
  - SFTP ERP同步（每10分钟）

5个角色:
  1. Admin（管理员）- 完全控制
  2. Accountant（会计师）- 财务管理
  3. Loan Officer（贷款专员）- 贷款评估
  4. Data Entry（数据录入员）- 文件上传
  5. Viewer（查看者）- 只读查看
```

---

### 📝 4. 操作流程详细指南
**文件名**: `CREDITPILOT_操作流程详细指南.md`  
**适用对象**: 系统操作员、客户服务人员  
**目的**: 掌握日常操作步骤、处理流程

#### 主要内容

| 章节 | 内容概览 |
|------|----------|
| **系统登录流程** | 3种角色登录、双因素认证 |
| **客户注册管理** | 创建客户、编辑信息、账户设置 |
| **信用卡账单处理** | 7步完整流程（从上传到导出） |
| **交易分类审核** | 批量分类、异常处理、手动调整 |
| **月度账本生成** | 自动生成、查看账本、趋势分析 |
| **贷款评估流程** | 6步流程（从CTOS到推荐报告） |
| **报告生成导出** | 月度/年度报告、Excel/PDF格式 |
| **AI助手使用** | 日常问答、每日报告、语音助手 |
| **常见问题处理** | 解析失败、计算错误、无法登录 |
| **数据备份恢复** | 自动备份、手动备份、恢复流程 |

**关键流程图示**:

```
信用卡账单处理流程:
1. 添加信用卡 → 2. 上传PDF → 3. 自动解析 → 
4. 交易分类 → 5. 执行计算 → 6. 查看结果 → 7. 导出报告

贷款评估流程:
1. 上传CTOS → 2. 提取数据 → 3. 计算DSR/DTI → 
4. 风险评级 → 5. 产品匹配 → 6. 生成推荐
```

---

## 🎯 快速导航

### 按使用场景查找

#### 场景1: 我是新用户，想了解系统功能
**推荐阅读**: 
1. `CREDITPILOT_系统功能完整手册.md` - 第1章"系统概述"
2. `CREDITPILOT_系统功能完整手册.md` - 第2章"核心功能模块"

---

#### 场景2: 我要处理信用卡账单
**推荐阅读**:
1. `CREDITPILOT_操作流程详细指南.md` - 第3章"信用卡账单处理完整流程"
2. `CREDITPILOT_系统功能完整手册.md` - 第3章"信用卡计算引擎详细说明"

**关键步骤**:
```
Step 1: 添加信用卡
Step 2: 上传PDF账单（拖拽或点击上传）
Step 3: 等待自动解析（约5秒）
Step 4: 查看交易分类（自动完成）
Step 5: 查看计算结果（Owner + INFINITE双账本）
Step 6: 导出Excel报告（专业格式）
```

---

#### 场景3: 我要评估贷款资格
**推荐阅读**:
1. `CREDITPILOT_操作流程详细指南.md` - 第6章"贷款评估完整流程"
2. `CREDITPILOT_系统功能完整手册.md` - 第5章"贷款评估系统"

**所需材料**:
- Personal CTOS Report（个人信用报告）
- Company CTOS Report（公司信用报告，如有）
- 月收入证明

**输出结果**:
- 风险等级评分
- 推荐贷款产品（Top 10）
- 利率对比表
- 节省利息计算

---

#### 场景4: 我要配置系统参数
**推荐阅读**:
1. `CREDITPILOT_技术配置详细文档.md` - 第5章"配置文件详解"
2. `CREDITPILOT_技术配置详细文档.md` - 第6章"环境变量"

**配置位置**:
- `config/colors.json` - 颜色系统（3色规则）
- `config/app_settings.json` - 应用设置
- `config/bank_parser_templates.json` - 银行解析规则

---

#### 场景5: 我要部署系统
**推荐阅读**:
1. `CREDITPILOT_技术配置详细文档.md` - 第7章"部署配置"
2. `docs/deployment/DEPLOYMENT_GUIDE.md` - 部署检查清单

**部署平台**:
- Replit（开发/演示）
- Render（生产推荐）
- Railway（备选）

---

#### 场景6: 如何查看审计日志？
**推荐阅读**:
1. `CREDITPILOT_会计与审计系统手册.md` - 第3章"审计日志系统"
2. `CREDITPILOT_技术配置详细文档.md` - 第4章"API端点清单" → 审计日志API

**查询方式**:
```
方式1: API调用
GET /api/audit-logs?company_id=1&action_type=file_upload&limit=100

方式2: 管理后台
http://localhost:8000/accounting → 审计日志

可查询内容:
- 所有文件上传记录
- 客户数据修改历史
- 登录登出记录
- 删除操作记录
```

---

#### 场景7: 会计师（Accountant）角色可以做什么？
**推荐阅读**:
1. `CREDITPILOT_会计与审计系统手册.md` - 第4章"RBAC权限系统" → Accountant
2. `CREDITPILOT_会计与审计系统手册.md` - 第6章"财务报表生成"

**权限清单**:
```
✅ 可以做:
  - 生成所有财务报表（P&L、Balance Sheet等）
  - 管理银行对账单（上传、验证、入账）
  - 管理发票
  - 处理异常
  - 查看客户账本
  - 查看供应商账龄

❌ 不能做:
  - 创建/删除用户
  - 修改系统设置
  - 管理API密钥
```

---

#### 场景8: PDF解析失败怎么办？
**推荐阅读**:
1. `CREDITPILOT_操作流程详细指南.md` - 第9章"常见问题处理" → 问题1
2. `CREDITPILOT_系统功能完整手册.md` - 第4章"PDF解析系统"

**解决方案**:
```
方案1: 使用VBA备用解析器
方案2: 手动输入关键字段
方案3: 联系技术支持（support@creditpilot.my）
```

---

#### 场景9: 交易分类不正确如何调整？
**推荐阅读**:
1. `CREDITPILOT_操作流程详细指南.md` - 第4章"交易分类与审核"
2. `CREDITPILOT_系统功能完整手册.md` - 第6章"交易分类规则"

**调整步骤**:
```
Step 1: Statement Details → Transactions Tab
Step 2: 找到需要调整的交易
Step 3: 点击Category下拉框
Step 4: 修改为正确分类
Step 5: 点击"重新计算"
Step 6: 验证新的计算结果
```

---

## 📊 功能对照表

| 功能 | 功能手册章节 | 会计审计手册章节 | 操作指南章节 | 技术文档章节 |
|------|-------------|----------------|-------------|-------------|
| **信用卡管理** | 第2章、第3章 | - | 第3章 | 第1章、第2章 |
| **PDF解析** | 第4章 | - | 第3章 Step 2-3 | 第2章 |
| **交易分类** | 第6章 | - | 第4章 | 第3章 |
| **月度账本** | 第7章 | - | 第5章 | 第1章 |
| **贷款评估** | 第5章 | - | 第6章 | 第1章 |
| **会计分录** | - | 第5章 | - | - |
| **财务报表** | - | 第6章 | 第7章 | 第4章 |
| **审计日志** | - | 第3章 | - | 第4章 |
| **RBAC权限** | 第10章 | 第4章 | 第1章 | - |
| **SFTP同步** | - | 第7章 | - | - |
| **AI助手** | 第8章 | - | 第8章 | 第4章 |
| **数据备份** | - | - | 第10章 | 第7章 |

---

## 🔍 关键概念索引

### A-C
- **API端点** → 技术文档第4章
- **Audit Logs（审计日志）** → 技术文档第1章
- **CCRIS风险评分** → 功能手册第5章

### D-G
- **DSR（债务偿还比率）** → 功能手册第5章、操作指南第6章
- **DTI（债务收入比）** → 功能手册第5章、操作指南第6章
- **Excel专业格式** → 功能手册第9章、技术文档第1章
- **GZ's Expenses** → 功能手册第3章、操作指南第3章

### H-O
- **INFINITE月度账本** → 功能手册第7章、技术文档第1章
- **Owner's Payment** → 功能手册第3章、第6章

### P-S
- **PDF解析** → 功能手册第4章、操作指南第9章
- **RBAC权限** → 功能手册第10章
- **Suppliers（7个供应商）** → 功能手册第6章、技术文档第3章

### T-Z
- **交易分类** → 功能手册第6章、操作指南第4章
- **负数余额** → 功能手册第3章、技术文档第3章
- **滚动余额** → 功能手册第7章、操作指南第5章

---

## 📞 技术支持

### 联系方式
- **Email**: support@creditpilot.my
- **在线客服**: 点击右下角AI助手
- **文档问题**: 参考本索引快速查找

### 文档更新
- **最后更新**: 2025-11-24
- **版本**: V2025.11
- **下次更新**: 功能迭代时同步更新

---

## 📝 附录

### 文档文件清单
```
CREDITPILOT_文档总索引.md（本文件）
├── CREDITPILOT_系统功能完整手册.md（17KB）
├── CREDITPILOT_技术配置详细文档.md（22KB）
├── CREDITPILOT_会计与审计系统手册.md（25KB）
└── CREDITPILOT_操作流程详细指南.md（25KB）

总计: 约89KB，覆盖系统100%功能（信用卡+贷款+会计+审计）
```

### 其他参考文档
```
replit.md - 系统架构总览
docs/SYSTEM_ARCHITECTURE.md - 技术架构
docs/core/系统功能完整清单.md - 功能清单
```

---

**© 2025 CreditPilot - 智能财务管理平台**  
**文档总索引 | 快速查找 | 完整覆盖**
